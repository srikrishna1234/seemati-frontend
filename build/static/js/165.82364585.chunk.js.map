{"version":3,"file":"static/js/165.82364585.chunk.js","mappings":"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","sources":["home/NewsletterSignup.jsx"],"sourcesContent":["// src/home/NewsletterSignup.jsx\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\n/**\r\n * NewsletterSignup.jsx\r\n *\r\n * - Simple newsletter signup component with three modes:\r\n *    1) Backend POST -> set NEWSLETTER_API_URL to your endpoint (expects JSON { name?, email })\r\n *    2) Mailchimp form -> set MAILCHIMP_FORM_ACTION to your Mailchimp form action URL (embed form action)\r\n *    3) Local fallback -> saves to localStorage (key: 'seemati_newsletter')\r\n *\r\n * - Usage:\r\n *    import NewsletterSignup from \"../home/NewsletterSignup\";\r\n *    <NewsletterSignup />\r\n *\r\n * - Configuration: edit the constants below.\r\n *\r\n * NOTES:\r\n *  - If using Mailchimp, use the \"Embedded form\" action URL (it usually looks like\r\n *    https://<dc>.list-manage.com/subscribe/post?u=XXXXX&id=YYYYY). This will open a new tab/window\r\n *    with Mailchimp's response page (you won't get a programmatic success response).\r\n *\r\n *  - If using a backend API, ensure CORS allows your site origin. The component sends a JSON POST.\r\n *\r\n *  - Local fallback stores subscriber objects in localStorage for later export.\r\n */\r\n\r\n/* ---------- CONFIGURATION: set one or both as needed ---------- */\r\nconst NEWSLETTER_API_URL = \"\"; // e.g. \"https://api.seemati.com/newsletter/subscribe\" (POST JSON)\r\nconst NEWSLETTER_API_AUTH = \"\"; // optional Authorization token (Bearer) if your backend needs it\r\n\r\n// If you prefer Mailchimp embedded form, paste the form ACTION URL here.\r\n// Example: \"https://abcd1234.list-manage.com/subscribe/post?u=XXXX&id=YYYY\"\r\nconst MAILCHIMP_FORM_ACTION = \"\"; // leave empty if not using Mailchimp\r\n\r\n/* ---------- End config ---------- */\r\n\r\nconst LOCAL_STORAGE_KEY = \"seemati_newsletter\";\r\n\r\nfunction isEmailValid(email) {\r\n  if (!email) return false;\r\n  // gentle email regex — good enough for client-side validation\r\n  return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(String(email).trim());\r\n}\r\n\r\nexport default function NewsletterSignup({ className = \"\" }) {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [status, setStatus] = useState(\"idle\"); // idle | saving | success | error\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    // optionally prefill email if user visited before\r\n    try {\r\n      const raw = window.localStorage.getItem(\"seemati_last_email\");\r\n      if (raw) setEmail(raw);\r\n    } catch (e) {}\r\n  }, []);\r\n\r\n  async function handleSubmit(e) {\r\n    e && e.preventDefault && e.preventDefault();\r\n    setMessage(\"\");\r\n    if (!isEmailValid(email)) {\r\n      setMessage(\"Please enter a valid email address.\");\r\n      return;\r\n    }\r\n    setStatus(\"saving\");\r\n\r\n    // Mode 1: Backend API POST (preferred)\r\n    if (NEWSLETTER_API_URL) {\r\n      try {\r\n        const headers = { \"Content-Type\": \"application/json\" };\r\n        if (NEWSLETTER_API_AUTH) headers[\"Authorization\"] = `Bearer ${NEWSLETTER_API_AUTH}`;\r\n        const res = await fetch(NEWSLETTER_API_URL, {\r\n          method: \"POST\",\r\n          headers,\r\n          body: JSON.stringify({ name: name ? String(name).trim() : undefined, email: String(email).trim() }),\r\n        });\r\n        if (!res.ok) {\r\n          // try reading body for error message\r\n          let text = \"\";\r\n          try { text = await res.text(); } catch (err) {}\r\n          throw new Error(text || `Server responded with ${res.status}`);\r\n        }\r\n        // success\r\n        setStatus(\"success\");\r\n        setMessage(\"Thanks — you are subscribed!\");\r\n        // persist last email for convenience\r\n        try { window.localStorage.setItem(\"seemati_last_email\", String(email).trim()); } catch (e) {}\r\n        return;\r\n      } catch (err) {\r\n        setStatus(\"error\");\r\n        setMessage(\"Subscription failed (server). We'll save locally and you can retry later.\");\r\n        // fall through to local save\r\n      }\r\n    }\r\n\r\n    // Mode 2: Mailchimp embedded form (if configured)\r\n    if (MAILCHIMP_FORM_ACTION && !NEWSLETTER_API_URL) {\r\n      // create and submit a hidden form to Mailchimp action; opens new tab\r\n      try {\r\n        const form = document.createElement(\"form\");\r\n        form.action = MAILCHIMP_FORM_ACTION;\r\n        form.method = \"POST\";\r\n        form.target = \"_blank\"; // open mailchimp response in new tab (typical)\r\n        form.style.display = \"none\";\r\n\r\n        // Mailchimp uses `EMAIL` and `FNAME` / `NAME` fields in many embed forms.\r\n        // We'll append both so common variants work. If your Mailchimp form uses\r\n        // different field names, update this code or use NEWSLETTER_API_URL backend instead.\r\n        const emailInput = document.createElement(\"input\");\r\n        emailInput.name = \"EMAIL\";\r\n        emailInput.value = String(email).trim();\r\n        form.appendChild(emailInput);\r\n\r\n        const nameInput = document.createElement(\"input\");\r\n        nameInput.name = \"FNAME\";\r\n        nameInput.value = String(name).trim();\r\n        form.appendChild(nameInput);\r\n\r\n        document.body.appendChild(form);\r\n        form.submit();\r\n        document.body.removeChild(form);\r\n\r\n        setStatus(\"success\");\r\n        setMessage(\"Mailchimp form opened in new tab — complete sign-up there if required.\");\r\n        try { window.localStorage.setItem(\"seemati_last_email\", String(email).trim()); } catch (e) {}\r\n        return;\r\n      } catch (err) {\r\n        setStatus(\"error\");\r\n        setMessage(\"Mailchimp submission failed — saving locally instead.\");\r\n        // fall through to local save\r\n      }\r\n    }\r\n\r\n    // Mode 3: local fallback — store in localStorage\r\n    try {\r\n      const item = {\r\n        id: \"n_\" + Math.random().toString(36).slice(2, 9),\r\n        name: name ? String(name).trim() : \"\",\r\n        email: String(email).trim(),\r\n        createdAt: Date.now(),\r\n      };\r\n      let store = [];\r\n      try {\r\n        const raw = window.localStorage.getItem(LOCAL_STORAGE_KEY);\r\n        if (raw) {\r\n          const parsed = JSON.parse(raw);\r\n          if (Array.isArray(parsed)) store = parsed;\r\n        }\r\n      } catch (e) { /* ignore */ }\r\n      store.unshift(item);\r\n      window.localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(store));\r\n      window.localStorage.setItem(\"seemati_last_email\", String(email).trim());\r\n      setStatus(\"success\");\r\n      setMessage(\"Saved locally — thanks! (You can export subscribers from localStorage later.)\");\r\n    } catch (err) {\r\n      setStatus(\"error\");\r\n      setMessage(\"Unable to save (localStorage blocked). Please try again or contact support.\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section aria-labelledby=\"newsletter-title\" className={`seemati-newsletter ${className}`} style={root}>\r\n      <div style={inner}>\r\n        <h3 id=\"newsletter-title\" style={title}>Join the Seemati newsletter</h3>\r\n        <p style={lead}>Get early access to new drops, exclusive discounts and style tips. No spam — unsubscribe anytime.</p>\r\n\r\n        <form onSubmit={handleSubmit} style={formStyle} aria-describedby=\"newsletter-note\">\r\n          <div style={fieldRow}>\r\n            <label style={srOnly}>\r\n              Name\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                placeholder=\"Your name (optional)\"\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n                style={inputStyle}\r\n                aria-label=\"Your name (optional)\"\r\n              />\r\n            </label>\r\n\r\n            <label style={{ display: \"block\", flex: \"1 1 300px\" }}>\r\n              <span style={srLabel}>Email</span>\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"you@example.com\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                style={inputStyle}\r\n                required\r\n                aria-required=\"true\"\r\n                aria-label=\"Email address\"\r\n              />\r\n            </label>\r\n\r\n            <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={status === \"saving\"}\r\n                style={primaryBtn}\r\n                aria-disabled={status === \"saving\"}\r\n              >\r\n                {status === \"saving\" ? \"Saving…\" : \"Subscribe\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"newsletter-note\" style={{ marginTop: 8 }}>\r\n            <small style={{ color: \"#666\" }}>\r\n              We never share your email. {NEWSLETTER_API_URL ? \"Using secure server signup.\" : MAILCHIMP_FORM_ACTION ? \"Opens Mailchimp in a new tab.\" : \"Saved locally for now.\"}\r\n            </small>\r\n          </div>\r\n\r\n          {message && (\r\n            <div role=\"status\" aria-live=\"polite\" style={{ marginTop: 10 }}>\r\n              <small style={{ color: status === \"success\" ? \"#0a8f3a\" : \"#b00020\" }}>{message}</small>\r\n            </div>\r\n          )}\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n/* ---------- Inline styles ---------- */\r\nconst root = {\r\n  padding: \"22px 12px\",\r\n  background: \"#fafafa\",\r\n  color: \"#111\",\r\n  borderRadius: 8,\r\n  marginTop: 18,\r\n};\r\n\r\nconst inner = {\r\n  maxWidth: 1000,\r\n  margin: \"0 auto\",\r\n};\r\n\r\nconst title = {\r\n  fontSize: 18,\r\n  margin: 0,\r\n};\r\n\r\nconst lead = {\r\n  marginTop: 8,\r\n  color: \"#333\",\r\n  fontSize: 14,\r\n};\r\n\r\nconst formStyle = {\r\n  marginTop: 12,\r\n};\r\n\r\nconst fieldRow = {\r\n  display: \"flex\",\r\n  gap: 8,\r\n  alignItems: \"flex-start\",\r\n  flexWrap: \"wrap\",\r\n};\r\n\r\nconst inputStyle = {\r\n  width: \"100%\",\r\n  padding: \"10px 12px\",\r\n  borderRadius: 8,\r\n  border: \"1px solid #e6e6e6\",\r\n  fontSize: 14,\r\n  boxSizing: \"border-box\",\r\n};\r\n\r\nconst srOnly = {\r\n  position: \"relative\",\r\n  display: \"none\",\r\n};\r\n\r\nconst srLabel = {\r\n  display: \"none\",\r\n};\r\n\r\nconst primaryBtn = {\r\n  padding: \"10px 14px\",\r\n  background: \"#0b6eff\",\r\n  color: \"#fff\",\r\n  border: \"none\",\r\n  borderRadius: 8,\r\n  cursor: \"pointer\",\r\n  fontSize: 14,\r\n};\r\n\r\n/* ---------- Exports (none) ---------- */\r\n"],"names":["NEWSLETTER_API_URL","NEWSLETTER_API_AUTH","MAILCHIMP_FORM_ACTION","LOCAL_STORAGE_KEY","NewsletterSignup","_ref","className","name","setName","useState","email","setEmail","status","setStatus","message","setMessage","useEffect","raw","window","localStorage","getItem","e","_jsx","concat","style","root","children","_jsxs","inner","id","title","lead","onSubmit","async","preventDefault","test","String","trim","isEmailValid","headers","res","fetch","method","body","JSON","stringify","undefined","ok","text","err","Error","setItem","form","document","createElement","action","target","display","emailInput","value","appendChild","nameInput","submit","removeChild","item","Math","random","toString","slice","createdAt","Date","now","store","parsed","parse","Array","isArray","unshift","formStyle","fieldRow","srOnly","type","placeholder","onChange","inputStyle","flex","srLabel","required","alignItems","disabled","primaryBtn","marginTop","color","role","padding","background","borderRadius","maxWidth","margin","fontSize","gap","flexWrap","width","border","boxSizing","position","cursor"],"ignoreList":[],"sourceRoot":""}