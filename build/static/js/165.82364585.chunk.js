"use strict";(self.webpackChunkseemati_ladies_wear=self.webpackChunkseemati_ladies_wear||[]).push([[165],{3165:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var i=a(5043),r=a(579);const s="",n="",l="",o="seemati_newsletter";function c(e){let{className:t=""}=e;const[a,c]=(0,i.useState)(""),[x,w]=(0,i.useState)(""),[v,j]=(0,i.useState)("idle"),[_,k]=(0,i.useState)("");return(0,i.useEffect)(()=>{try{const e=window.localStorage.getItem("seemati_last_email");e&&w(e)}catch(e){}},[]),(0,r.jsx)("section",{"aria-labelledby":"newsletter-title",className:"seemati-newsletter ".concat(t),style:d,children:(0,r.jsxs)("div",{style:m,children:[(0,r.jsx)("h3",{id:"newsletter-title",style:u,children:"Join the Seemati newsletter"}),(0,r.jsx)("p",{style:p,children:"Get early access to new drops, exclusive discounts and style tips. No spam \u2014 unsubscribe anytime."}),(0,r.jsxs)("form",{onSubmit:async function(e){if(e&&e.preventDefault&&e.preventDefault(),k(""),function(e){return!!e&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(e).trim())}(x)){if(j("saving"),s)try{const i={"Content-Type":"application/json"};n&&(i.Authorization="Bearer ".concat(n));const r=await fetch(s,{method:"POST",headers:i,body:JSON.stringify({name:a?String(a).trim():void 0,email:String(x).trim()})});if(!r.ok){let e="";try{e=await r.text()}catch(t){}throw new Error(e||"Server responded with ".concat(r.status))}j("success"),k("Thanks \u2014 you are subscribed!");try{window.localStorage.setItem("seemati_last_email",String(x).trim())}catch(e){}return}catch(t){j("error"),k("Subscription failed (server). We'll save locally and you can retry later.")}if(l&&!s)try{const t=document.createElement("form");t.action=l,t.method="POST",t.target="_blank",t.style.display="none";const i=document.createElement("input");i.name="EMAIL",i.value=String(x).trim(),t.appendChild(i);const r=document.createElement("input");r.name="FNAME",r.value=String(a).trim(),t.appendChild(r),document.body.appendChild(t),t.submit(),document.body.removeChild(t),j("success"),k("Mailchimp form opened in new tab \u2014 complete sign-up there if required.");try{window.localStorage.setItem("seemati_last_email",String(x).trim())}catch(e){}return}catch(t){j("error"),k("Mailchimp submission failed \u2014 saving locally instead.")}try{const t={id:"n_"+Math.random().toString(36).slice(2,9),name:a?String(a).trim():"",email:String(x).trim(),createdAt:Date.now()};let i=[];try{const e=window.localStorage.getItem(o);if(e){const t=JSON.parse(e);Array.isArray(t)&&(i=t)}}catch(e){}i.unshift(t),window.localStorage.setItem(o,JSON.stringify(i)),window.localStorage.setItem("seemati_last_email",String(x).trim()),j("success"),k("Saved locally \u2014 thanks! (You can export subscribers from localStorage later.)")}catch(t){j("error"),k("Unable to save (localStorage blocked). Please try again or contact support.")}}else k("Please enter a valid email address.")},style:y,"aria-describedby":"newsletter-note",children:[(0,r.jsxs)("div",{style:g,children:[(0,r.jsxs)("label",{style:b,children:["Name",(0,r.jsx)("input",{type:"text",name:"name",placeholder:"Your name (optional)",value:a,onChange:e=>c(e.target.value),style:h,"aria-label":"Your name (optional)"})]}),(0,r.jsxs)("label",{style:{display:"block",flex:"1 1 300px"},children:[(0,r.jsx)("span",{style:f,children:"Email"}),(0,r.jsx)("input",{type:"email",name:"email",placeholder:"you@example.com",value:x,onChange:e=>w(e.target.value),style:h,required:!0,"aria-required":"true","aria-label":"Email address"})]}),(0,r.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,r.jsx)("button",{type:"submit",disabled:"saving"===v,style:S,"aria-disabled":"saving"===v,children:"saving"===v?"Saving\u2026":"Subscribe"})})]}),(0,r.jsx)("div",{id:"newsletter-note",style:{marginTop:8},children:(0,r.jsxs)("small",{style:{color:"#666"},children:["We never share your email. ",s?"Using secure server signup.":l?"Opens Mailchimp in a new tab.":"Saved locally for now."]})}),_&&(0,r.jsx)("div",{role:"status","aria-live":"polite",style:{marginTop:10},children:(0,r.jsx)("small",{style:{color:"success"===v?"#0a8f3a":"#b00020"},children:_})})]})]})})}const d={padding:"22px 12px",background:"#fafafa",color:"#111",borderRadius:8,marginTop:18},m={maxWidth:1e3,margin:"0 auto"},u={fontSize:18,margin:0},p={marginTop:8,color:"#333",fontSize:14},y={marginTop:12},g={display:"flex",gap:8,alignItems:"flex-start",flexWrap:"wrap"},h={width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #e6e6e6",fontSize:14,boxSizing:"border-box"},b={position:"relative",display:"none"},f={display:"none"},S={padding:"10px 14px",background:"#0b6eff",color:"#fff",border:"none",borderRadius:8,cursor:"pointer",fontSize:14}}}]);
//# sourceMappingURL=165.82364585.chunk.js.map