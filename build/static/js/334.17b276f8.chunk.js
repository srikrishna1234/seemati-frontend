"use strict";(self.webpackChunkseemati_ladies_wear=self.webpackChunkseemati_ladies_wear||[]).push([[334],{334:(t,e,i)=>{i.r(e),i.d(e,{default:()=>c});var n=i(5043),r=i(8163),o=i(8009),l=i(2603),s=i(579);function d(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t||(t=document.body);const{count:i=20,spread:n=160,lifetime:r=900,colors:o=["#f59e0b","#ef4444","#10b981","#0b5cff","#7c3aed"]}=e,l=t.getBoundingClientRect(),s=document.createElement("div");s.style.position="absolute",s.style.left="".concat(l.left+window.scrollX,"px"),s.style.top="".concat(l.top+window.scrollY,"px"),s.style.width="".concat(l.width,"px"),s.style.height="".concat(l.height,"px"),s.style.pointerEvents="none",s.style.overflow="visible",s.style.zIndex=9999,document.body.appendChild(s);const d=l.width/2,a=l.height/2,c=[];for(let h=0;h<i;h++){const t=document.createElement("div"),e=Math.floor(8*Math.random())+6;t.style.position="absolute",t.style.left="".concat(d-e/2,"px"),t.style.top="".concat(a-e/2,"px"),t.style.width="".concat(e,"px"),t.style.height="".concat(e,"px"),t.style.borderRadius="4px",t.style.background=o[Math.floor(Math.random()*o.length)],t.style.opacity="1",t.style.transform="translate3d(0,0,0) scale(1)",t.style.willChange="transform, opacity",s.appendChild(t);const i=Math.random()*Math.PI*2,r=2+Math.random()*(n/30),l=Math.cos(i)*r,u=Math.sin(i)*r-1.5*Math.random(),h=10*(Math.random()-.5);c.push({el:t,x:d,y:a,vx:l,vy:u,rot:h})}const u=performance.now();requestAnimationFrame(function t(e){const i=e-u,n=Math.min(1,i/r);c.forEach(t=>{t.x+=t.vx,t.y+=t.vy,t.vy+=.06;const e=1-.6*n;t.el.style.transform="translate3d(".concat(t.x-d,"px, ").concat(t.y-a,"px, 0) rotate(").concat(t.rot*n,"deg) scale(").concat(Math.max(.2,e),")"),t.el.style.opacity=String(1-n)}),n<1?requestAnimationFrame(t):setTimeout(()=>{try{s.remove()}catch(t){}},60)})}function a(){try{var t;const e=(0,o.Bb)(),i=Array.isArray(e)?e:null!==(t=e.items)&&void 0!==t?t:[];return Array.isArray(i)?i:[]}catch(e){return[]}}function c(){var t,e;const i=(0,l.J$)(),c=(0,l.Ku)(),[u,h]=(0,n.useState)(()=>{var t;return null!==(t=null===i||void 0===i?void 0:i.items)&&void 0!==t?t:a()});(0,n.useEffect)(()=>{var t;h(null!==(t=null===i||void 0===i?void 0:i.items)&&void 0!==t?t:a())},[null===i||void 0===i?void 0:i.items]);const m=(0,n.useMemo)(()=>(0,o.x0)({items:u}),[u]),[p,y]=(0,n.useState)(!0);function v(t){const e=Array.isArray(t)?{items:t}:t||{items:[]};try{"function"===typeof c&&c({type:"INITIALIZE",payload:e})}catch(i){console.warn("[CartPage] dispatch init failed",i)}try{window.dispatchEvent(new Event("cart-updated"))}catch(n){}h(e.items||[]);try{!function(t,e){try{const i="seemati_free_burst_done_v1",n="1"===localStorage.getItem(i);t>=o.Nv&&!n?(d(e||document.body,{count:36,spread:220,lifetime:1e3}),localStorage.setItem(i,"1")):t<o.Nv&&n&&localStorage.removeItem(i)}catch(n){console.warn("burst check failed",n)}}((0,o.x0)(e).subtotal||0,document.body)}catch(n){}}async function f(t,e){const i=Math.max(0,Math.floor(Number(e)||0));if(i<=0){return void v((0,o.Ai)(t))}v((0,o.Rq)(t,i))}const x=Math.max(0,o.Nv-(m.subtotal||0));return u&&0!==u.length?(0,s.jsxs)("div",{style:{padding:24},children:[(0,s.jsx)("h1",{children:"Your Cart"}),(0,s.jsxs)("div",{style:{display:"flex",gap:24},children:[(0,s.jsx)("div",{style:{flex:"1 1 auto"},children:u.map(t=>{var e,i,n,r,l,d,a,c,u,h,m;const p=null!==(e=null!==(i=null!==(n=t.productId)&&void 0!==n?n:t._id)&&void 0!==i?i:t.id)&&void 0!==e?e:"",y=null!==(r=null!==(l=t.image)&&void 0!==l?l:t.images&&t.images[0]&&(t.images[0].url||t.images[0]))&&void 0!==r?r:"".concat("https://api.seemati.in/api","/uploads/placeholder.png");return(0,s.jsxs)("div",{style:{border:"1px solid #eee",padding:12,marginBottom:12,borderRadius:6,display:"flex",gap:12,alignItems:"center"},children:[(0,s.jsx)("div",{style:{width:96,height:96,borderRadius:6,overflow:"hidden",background:"#fff",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #f3f3f3"},children:(0,s.jsx)("img",{src:y,alt:t.title,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",display:"block"},onError:t=>t.target.src="".concat("https://api.seemati.in/api","/uploads/placeholder.png")})}),(0,s.jsxs)("div",{style:{flex:"1 1 auto"},children:[(0,s.jsx)("div",{style:{fontWeight:700},children:t.title}),(0,s.jsxs)("div",{style:{marginTop:8},children:["Price: \u20b9",Number(null!==(d=t.price)&&void 0!==d?d:0).toFixed(2)]}),(0,s.jsxs)("div",{style:{marginTop:8,display:"flex",gap:8,alignItems:"center"},children:[(0,s.jsx)("button",{onClick:()=>{var e,i;return f(p,(Number(null!==(e=null!==(i=t.quantity)&&void 0!==i?i:t.qty)&&void 0!==e?e:1)||1)-1)},style:{width:36,height:28},children:"-"}),(0,s.jsx)("input",{value:null!==(a=null!==(c=t.quantity)&&void 0!==c?c:t.qty)&&void 0!==a?a:1,onChange:t=>f(p,Number(t.target.value||0)),style:{width:48,textAlign:"center"}}),(0,s.jsx)("button",{onClick:()=>{var e,i;return f(p,(Number(null!==(e=null!==(i=t.quantity)&&void 0!==i?i:t.qty)&&void 0!==e?e:1)||1)+1)},style:{width:36,height:28},children:"+"}),(0,s.jsx)("button",{onClick:()=>async function(t){v((0,o.Ai)(t))}(p),style:{marginLeft:"auto",color:"#dc2626",background:"transparent",border:"none",cursor:"pointer"},children:"Remove"})]})]}),(0,s.jsxs)("div",{style:{minWidth:120,textAlign:"right",fontWeight:800},children:["\u20b9",(Number(null!==(u=t.price)&&void 0!==u?u:0)*(null!==(h=null!==(m=t.quantity)&&void 0!==m?m:t.qty)&&void 0!==h?h:1)||0).toFixed(2)]})]},p)})}),(0,s.jsx)("aside",{style:{width:320},children:(0,s.jsxs)("div",{style:{border:"1px solid #eee",padding:16,borderRadius:8},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)("div",{children:"Items"}),(0,s.jsx)("div",{children:u.reduce((t,e)=>{var i,n;return t+(Number(null!==(i=null!==(n=e.quantity)&&void 0!==n?n:e.qty)&&void 0!==i?i:1)||0)},0)})]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:8},children:[(0,s.jsx)("div",{children:"Subtotal"}),(0,s.jsxs)("div",{children:["\u20b9",(null!==(t=m.subtotal)&&void 0!==t?t:0).toFixed(2)]})]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:8},children:[(0,s.jsx)("div",{children:"Shipping"}),(0,s.jsx)("div",{children:0===m.shipping?"FREE":"\u20b9".concat(m.shipping.toFixed(2))})]}),(0,s.jsxs)("div",{style:{marginTop:12,fontWeight:800,display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)("div",{children:"Total"}),(0,s.jsxs)("div",{children:["\u20b9",(null!==(e=m.total)&&void 0!==e?e:0).toFixed(2)]})]}),(0,s.jsx)("div",{style:{marginTop:12},children:(0,s.jsx)("button",{style:{width:"100%",padding:"10px 12px",background:"#0b5cff",color:"#fff",borderRadius:6,border:"none"},children:"Proceed to Checkout"})}),(0,s.jsx)("div",{style:{marginTop:8},children:(0,s.jsx)("button",{onClick:function(){v((0,o.sX)())},style:{width:"100%",padding:"8px 12px",borderRadius:6,border:"1px solid #ddd",background:"#fff",marginTop:8},children:"Clear cart"})})]})})]}),(0,s.jsxs)("div",{"aria-hidden":"false",style:{position:"fixed",left:20,right:20,bottom:20,margin:"0 auto",maxWidth:980,background:"#e6fffa",border:"1px solid #bbf7d0",color:"#064e3b",padding:"12px 18px",borderRadius:999,boxShadow:"0 6px 18px rgba(2,6,23,0.06)",display:p?"flex":"none",alignItems:"center",gap:12,justifyContent:"center",zIndex:9999},children:[x>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{style:{fontWeight:700},children:"\ud83d\udce6"}),(0,s.jsxs)("div",{style:{fontWeight:700},children:["Add \u20b9",x.toFixed(2)," more to get free shipping."]}),(0,s.jsxs)("div",{style:{color:"#065f46"},children:["Subtotal \u20b9",(m.subtotal||0).toFixed(2)]}),(0,s.jsx)(r.N_,{to:"/shop",children:(0,s.jsx)("button",{style:{marginLeft:12,background:"#0b5cff",color:"#fff",padding:"8px 12px",borderRadius:6,border:"none"},children:"Continue shopping"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{style:{fontWeight:700},children:"\ud83c\udf89"}),(0,s.jsxs)("div",{style:{fontWeight:700},children:["You have free shipping! Subtotal \u20b9",(m.subtotal||0).toFixed(2)]}),(0,s.jsx)("button",{onClick:()=>d(document.body,{count:36}),style:{marginLeft:12,background:"#10b981",color:"#fff",padding:"8px 12px",borderRadius:6,border:"none"},children:"Celebrate"})]}),(0,s.jsx)("button",{onClick:()=>y(!1),style:{marginLeft:12,background:"transparent",border:"none",cursor:"pointer"},children:"Dismiss \u2715"})]})]}):(0,s.jsxs)("div",{style:{padding:24},children:[(0,s.jsx)("h2",{children:"Your cart is empty"}),(0,s.jsx)(r.N_,{to:"/shop",children:"Go shopping"})]})}},2603:(t,e,i)=>{i.d(e,{J$:()=>s,Ku:()=>d});var n=i(5043);i(579);const r=(0,n.createContext)(null),o=(0,n.createContext)(null);function l(t){const e=t.reduce((t,e)=>t+Number(e.price||0)*(e.quantity||1),0),i=e>999?0:60,n=Math.round(.05*e);return{subtotal:e,shipping:i,tax:n,discount:0,total:e+i+n-0}}function s(){const t=(0,n.useContext)(r);return null!==t&&void 0!==t?t:{items:[],totals:l([])}}function d(){const t=(0,n.useContext)(o);return null!==t&&void 0!==t?t:()=>{}}},8009:(t,e,i)=>{i.d(e,{Ai:()=>m,Bb:()=>s,Nk:()=>u,Nv:()=>o,Rq:()=>h,o2:()=>d,sX:()=>p,x0:()=>c});var n=i(9379);const r="seemati_cart_v1",o=999,l=60;function s(){try{const t=localStorage.getItem(r);if(!t)return{items:[]};const e=function(t){try{return JSON.parse(t)}catch(e){return null}}(t);if(!e)return{items:[]};if(Array.isArray(e))return{items:e};if(e.items&&Array.isArray(e.items))return e;for(const i of Object.keys(e))if(Array.isArray(e[i]))return{items:e[i]};return{items:[]}}catch(t){return console.error("[cartHelpers] loadCart error",t),{items:[]}}}function d(t){try{const i=Array.isArray(t)?{items:t}:t&&t.items?{items:t.items}:{items:[]};localStorage.setItem(r,JSON.stringify(i.items));try{window.dispatchEvent(new Event("cart-updated"))}catch(e){}return i}catch(e){return console.error("[cartHelpers] saveCart error",e),{items:[]}}}function a(t){var e,i,r,o,l,s,d,a,c,u,h,m,p;const y=function(t){var e,i,n,r,o;return null!==(e=null!==(i=null!==(n=null!==(r=t.productId)&&void 0!==r?r:t._id)&&void 0!==n?n:t.id)&&void 0!==i?i:t.slug)&&void 0!==e?e:String(null!==(o=t.title)&&void 0!==o?o:Math.random().toString(36).slice(2,9))}(t);return(0,n.A)({productId:y,_id:null!==(e=t._id)&&void 0!==e?e:y,id:null!==(i=t.id)&&void 0!==i?i:y,slug:null!==(r=t.slug)&&void 0!==r?r:void 0,title:null!==(o=null!==(l=t.title)&&void 0!==l?l:t.name)&&void 0!==o?o:"Product",price:Number(null!==(s=null!==(d=null!==(a=t.price)&&void 0!==a?a:t.salePrice)&&void 0!==d?d:t.amount)&&void 0!==s?s:0),image:null!==(c=null!==(u=t.image)&&void 0!==u?u:t.images&&t.images[0]&&(t.images[0].url||t.images[0]))&&void 0!==c?c:null,images:null!==(h=t.images)&&void 0!==h?h:t.image?[{url:t.image}]:[],quantity:Math.max(1,Number(null!==(m=null!==(p=t.quantity)&&void 0!==p?p:t.qty)&&void 0!==m?m:1))},Object.keys(t).reduce((e,i)=>(["productId","_id","id","slug","title","price","image","images","quantity"].includes(i)||(e[i]=t[i]),e),{}))}function c(t){const e=(Array.isArray(t)?{items:t}:t||{items:[]}).items||[],i=e.reduce((t,e)=>t+Number(e.price||0)*Number(e.quantity||e.qty||0),0),n=i>=o?0:l,r=Math.round(.05*i);return{items:e,subtotal:i,shipping:n,tax:r,discount:0,total:i+n+r-0}}function u(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{const i=s(),r=Array.isArray(i.items)?[...i.items]:[],o=a(t),l=o.productId,c=r.findIndex(t=>{var e,i,n;return(null!==(e=null!==(i=null!==(n=t.productId)&&void 0!==n?n:t._id)&&void 0!==i?i:t.id)&&void 0!==e?e:t.slug)===l});if(c>-1){const t=(0,n.A)({},r[c]);t.quantity=Math.min(99,Number(t.quantity||t.qty||0)+Number(e||1)),r[c]=t}else o.quantity=Math.max(1,Number(e||o.quantity||1)),r.push(o);return d(r)}catch(i){return console.error("[cartHelpers] addOrIncrementItem error",i),s()}}function h(t,e){try{const i=(s().items||[]).map(i=>{var r,o,l;return(null!==(r=null!==(o=null!==(l=i.productId)&&void 0!==l?l:i._id)&&void 0!==o?o:i.id)&&void 0!==r?r:i.slug)===t?(0,n.A)((0,n.A)({},i),{},{quantity:Math.max(0,Math.floor(Number(e)||0))}):i}).filter(t=>Number(t.quantity||0)>0);return d(i)}catch(i){return console.error("[cartHelpers] setItemQuantity error",i),s()}}function m(t){try{const e=(s().items||[]).filter(e=>{var i,n,r;return(null!==(i=null!==(n=null!==(r=e.productId)&&void 0!==r?r:e._id)&&void 0!==n?n:e.id)&&void 0!==i?i:e.slug)!==t});return d(e)}catch(e){return console.error("[cartHelpers] removeItem error",e),s()}}function p(){try{return d([])}catch(t){return console.error("[cartHelpers] clearCart error",t),{items:[]}}}}}]);
//# sourceMappingURL=334.17b276f8.chunk.js.map