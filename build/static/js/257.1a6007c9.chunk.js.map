{"version":3,"file":"static/js/257.1a6007c9.chunk.js","mappings":"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","sources":["shop/ShopProducts.jsx","pages/HomePage.jsx","shop/shopProductCard.jsx"],"sourcesContent":["// src/shop/ShopProducts.jsx\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport ShopProductCard from \"./shopProductCard\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\n/**\r\n * ShopProducts (updated)\r\n *\r\n * - Keeps your original fetch logic (/api/products, fallback to /products).\r\n * - Client-side search, pagination and friendly loading/error UI (unchanged behavior).\r\n * - Adds `preview` prop: when preview=true it shows only the first 4 items and hides pagination/search UI.\r\n * - Adds a page <title> via react-helmet.\r\n */\r\n\r\nconst PAGE_SIZE = 12;\r\n\r\nexport default function ShopProducts({ preview = false }) {\r\n  const [products, setProducts] = useState(null); // null = loading, [] = loaded empty\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const [query, setQuery] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    async function load() {\r\n      try {\r\n        const res = await fetch(\"/api/products\", { credentials: \"include\" });\r\n        if (!mounted) return;\r\n        if (!res.ok) {\r\n          console.warn(\"ShopProducts: /api/products returned\", res.status);\r\n          if (res.status === 404) {\r\n            const res2 = await fetch(\"/products\", { credentials: \"include\" });\r\n            if (!mounted) return;\r\n            if (!res2.ok) throw new Error(`Fallback /products returned ${res2.status}`);\r\n            const data2 = await res2.json();\r\n            setProducts(normalizeArray(data2));\r\n            setLoading(false);\r\n            return;\r\n          }\r\n          throw new Error(`Fetch failed: ${res.status}`);\r\n        }\r\n\r\n        const data = await res.json();\r\n        if (!mounted) return;\r\n        setProducts(normalizeArray(data));\r\n      } catch (err) {\r\n        console.error(\"ShopProducts fetch error:\", err);\r\n        if (!mounted) return;\r\n        setError(\r\n          \"Unable to load products. Check that the dev server is running and that /api/products responds. See console for details.\"\r\n        );\r\n        setProducts([]);\r\n      } finally {\r\n        if (!mounted) return;\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    load();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  // normalize responses: either array or object { products: [...] } etc.\r\n  function normalizeArray(data) {\r\n    if (!data) return [];\r\n    if (Array.isArray(data)) return data;\r\n    if (data.products && Array.isArray(data.products)) return data.products;\r\n    if (data.docs && Array.isArray(data.docs)) return data.docs;\r\n    if (data.items && Array.isArray(data.items)) return data.items;\r\n    const arr = Object.values(data).find((v) => Array.isArray(v));\r\n    if (arr) return arr;\r\n    return [];\r\n  }\r\n\r\n  // derived: filtered by search query (client-side)\r\n  const filtered = useMemo(() => {\r\n    if (!products || products.length === 0) return [];\r\n    if (!query) return products;\r\n    const q = query.trim().toLowerCase();\r\n    return products.filter((p) => {\r\n      const s = `${p.title || p.name || p.slug || \"\"} ${p.description || \"\"} ${p.tags ? p.tags.join(\" \") : \"\"}`.toLowerCase();\r\n      return s.includes(q);\r\n    });\r\n  }, [products, query]);\r\n\r\n  // pagination\r\n  const totalPages = Math.max(1, Math.ceil((filtered || []).length / PAGE_SIZE));\r\n  const pageItems = useMemo(() => {\r\n    if (!filtered) return [];\r\n    const start = (page - 1) * PAGE_SIZE;\r\n    return filtered.slice(start, start + PAGE_SIZE);\r\n  }, [filtered, page]);\r\n\r\n  // when preview mode, show a limited set (first 4 matching items)\r\n  const previewItems = preview ? (filtered || []).slice(0, 4) : pageItems;\r\n\r\n  const gotoPage = (p) => {\r\n    const clamped = Math.max(1, Math.min(totalPages, p));\r\n    setPage(clamped);\r\n    window.scrollTo({ top: 280, behavior: \"smooth\" });\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: preview ? 0 : \"18px 24px\", maxWidth: 1200, margin: preview ? \"0\" : \"0 auto\" }}>\r\n      <Helmet>\r\n        <title>{preview ? \"Featured — Seemati\" : \"Shop — Seemati\"}</title>\r\n      </Helmet>\r\n\r\n      {/* show search/pager only when not previewing */}\r\n      {!preview && (\r\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: 12, marginBottom: 18 }}>\r\n          <input\r\n            aria-label=\"Search products\"\r\n            placeholder=\"Search products, brands and more\"\r\n            value={query}\r\n            onChange={(e) => {\r\n              setQuery(e.target.value);\r\n              setPage(1);\r\n            }}\r\n            style={{\r\n              flex: 1,\r\n              padding: \"10px 12px\",\r\n              borderRadius: 6,\r\n              border: \"1px solid #ddd\",\r\n              minWidth: 250,\r\n            }}\r\n          />\r\n          <button\r\n            onClick={() => {\r\n              setQuery(\"\");\r\n            }}\r\n            style={{\r\n              padding: \"10px 14px\",\r\n              background: \"#6b21a8\",\r\n              color: \"#fff\",\r\n              border: \"none\",\r\n              borderRadius: 6,\r\n            }}\r\n          >\r\n            Search\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* hero (small) shown only when not in preview */}\r\n      {!preview && (\r\n        <div style={{ marginBottom: 18 }}>\r\n          <div style={{ height: 220, borderRadius: 8, background: \"linear-gradient(90deg,#fff7f0,#fffefc)\", display: \"flex\", alignItems: \"center\", padding: 20 }}>\r\n            <div style={{ flex: 1 }}>\r\n              <h2 style={{ margin: 0 }}>Seemati — Confident & Stylish</h2>\r\n              <p style={{ marginTop: 6, color: \"#555\" }}>Comfort-first kurti pants and palazzos — made for every day</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* content */}\r\n      <section>\r\n        {loading && (\r\n          <div style={{ padding: 20 }}>\r\n            <strong>Loading products…</strong>\r\n            <div style={{ marginTop: 8, color: \"#666\" }}>If loading hangs, check Console and that /api/products returns JSON.</div>\r\n          </div>\r\n        )}\r\n\r\n        {!loading && error && (\r\n          <div style={{ padding: 20, border: \"1px dashed #f00\", borderRadius: 6 }}>\r\n            <strong style={{ color: \"#b91c1c\" }}>Could not load products</strong>\r\n            <div style={{ marginTop: 8 }}>{error}</div>\r\n          </div>\r\n        )}\r\n\r\n        {!loading && products && products.length === 0 && (\r\n          <div style={{ padding: 20 }}>No products found.</div>\r\n        )}\r\n\r\n        {!loading && products && products.length > 0 && (\r\n          <>\r\n            {!preview && (\r\n              <div style={{ marginBottom: 12, color: \"#444\" }}>\r\n                Showing <strong>{filtered.length}</strong> products {query ? <>matching <em>\"{query}\"</em></> : null}\r\n              </div>\r\n            )}\r\n\r\n            <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, minmax(180px, 1fr))\", gap: 16 }}>\r\n              {(preview ? previewItems : pageItems).map((p) => (\r\n                <ShopProductCard product={p} key={p._id || p.id || p.slug || `${p.title}-${Math.random()}`} />\r\n              ))}\r\n            </div>\r\n\r\n            {/* pagination (hidden in preview) */}\r\n            {!preview && (\r\n              <div style={{ marginTop: 20, display: \"flex\", alignItems: \"center\", justifyContent: \"center\", gap: 10 }}>\r\n                <button onClick={() => gotoPage(page - 1)} disabled={page === 1} style={pagerBtnStyle}>\r\n                  Prev\r\n                </button>\r\n\r\n                <div style={{ padding: \"6px 10px\", borderRadius: 6, background: \"#fff\" }}>\r\n                  Page {page} of {totalPages}\r\n                </div>\r\n\r\n                <button onClick={() => gotoPage(page + 1)} disabled={page === totalPages} style={pagerBtnStyle}>\r\n                  Next\r\n                </button>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst pagerBtnStyle = {\r\n  padding: \"8px 12px\",\r\n  borderRadius: 6,\r\n  border: \"1px solid #ddd\",\r\n  background: \"#fff\",\r\n  cursor: \"pointer\",\r\n};\r\n","// src/pages/HomePage.jsx\r\nimport React, { useEffect, useState, Suspense, lazy } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./HomePage.css\";\r\nimport ShopProducts from \"../shop/ShopProducts\";\r\n\r\n// lazy-load local home sections from src/home\r\nconst HomeBanners = lazy(() => import(\"../home/HomeBanners.jsx\"));\r\nconst BrandStory = lazy(() => import(\"../home/BrandStory.jsx\"));\r\nconst TestimonialsHome = lazy(() => import(\"../home/Testimonials.jsx\"));\r\nconst InstagramFeed = lazy(() => import(\"../home/InstagramFeed.jsx\"));\r\nconst NewsletterSignup = lazy(() => import(\"../home/NewsletterSignup.jsx\"));\r\nconst WhySeemati = lazy(() => import(\"../home/WhySeemati.jsx\"));\r\n\r\n// hero images (public/images)\r\nconst heroImages = [\r\n  \"/images/hero.jpg\",\r\n  \"/images/hero-1.jpg\",\r\n  \"/images/hero-2.jpg\",\r\n  \"/images/hero-3.jpg\"\r\n];\r\n\r\nexport default function HomePage() {\r\n  const [index, setIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const id = setInterval(() => setIndex(i => (i + 1) % heroImages.length), 5000);\r\n    return () => clearInterval(id);\r\n  }, []);\r\n\r\n  const prev = () => setIndex(i => (i - 1 + heroImages.length) % heroImages.length);\r\n  const next = () => setIndex(i => (i + 1) % heroImages.length);\r\n\r\n  return (\r\n    <div className=\"home-page\">\r\n      {/* HERO IMAGE (no overlay text) */}\r\n      <section className=\"hero-image-wrapper\" aria-hidden=\"false\">\r\n        <div className=\"hero-image-inner\">\r\n          <img\r\n            src={heroImages[index]}\r\n            onError={(e) => { if (e.target.src !== heroImages[0]) e.target.src = heroImages[0]; }}\r\n            alt=\"Seemati hero\"\r\n            className=\"hero-image\"\r\n          />\r\n          <button className=\"hero-nav hero-prev\" onClick={prev} aria-label=\"Previous\">‹</button>\r\n          <button className=\"hero-nav hero-next\" onClick={next} aria-label=\"Next\">›</button>\r\n        </div>\r\n        <div className=\"hero-dots\" aria-hidden=\"true\">\r\n          {heroImages.map((_, i) => (\r\n            <button\r\n              key={i}\r\n              className={`dot ${i === index ? \"active\" : \"\"}`}\r\n              onClick={() => setIndex(i)}\r\n              aria-label={`Show hero ${i + 1}`}\r\n            />\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      {/* HERO CONTENT — BELOW IMAGE */}\r\n      <section className=\"hero-content-below\" role=\"region\" aria-label=\"Brand message\">\r\n        <div className=\"hero-content-inner\">\r\n          <h1>Seemati — Confident &amp; Stylish</h1>\r\n          <p className=\"lead\">Comfort-first kurti pants and palazzos — made for everyday wear.</p>\r\n\r\n          <div className=\"cta-row\">\r\n            <Link to=\"/shop\" className=\"btn btn-primary\">Explore Fabrics</Link>\r\n            <Link to=\"/become-distributor\" className=\"btn btn-outline\">Become a distributor</Link>\r\n            <Link to=\"/products\" className=\"btn btn-ghost\">Browse all</Link>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Home banners (promos) */}\r\n      <Suspense fallback={<div style={{padding:24}}>Loading banners…</div>}>\r\n        <HomeBanners />\r\n      </Suspense>\r\n       {/* SEO: Organization + Website Schema */}\r\n<script\r\n  type=\"application/ld+json\"\r\n  dangerouslySetInnerHTML={{\r\n    __html: `\r\n{\r\n  \"@context\": \"https://schema.org\",\r\n  \"@type\": \"Organization\",\r\n  \"name\": \"Seemati\",\r\n  \"url\": \"https://seemati.in\",\r\n  \"logo\": \"https://seemati.in/logo.png\",\r\n  \"brand\": \"Seemati\",\r\n  \"description\": \"Comfort-first kurti pants, leggings, palazzos and everyday wear manufactured by Sri Krishna Apparells.\",\r\n  \"founder\": \"Sri Krishna Apparells\",\r\n  \"sameAs\": [\r\n    \"https://www.facebook.com/\",\r\n    \"https://www.instagram.com/\",\r\n    \"https://www.youtube.com/\"\r\n  ]\r\n}\r\n`\r\n  }}\r\n/>\r\n\r\n<script\r\n  type=\"application/ld+json\"\r\n  dangerouslySetInnerHTML={{\r\n    __html: `\r\n{\r\n  \"@context\": \"https://schema.org\",\r\n  \"@type\": \"WebSite\",\r\n  \"name\": \"Seemati\",\r\n  \"url\": \"https://seemati.in\",\r\n  \"potentialAction\": {\r\n    \"@type\": \"SearchAction\",\r\n    \"target\": \"https://seemati.in/search?q={search_term_string}\",\r\n    \"query-input\": \"required name=search_term_string\"\r\n  }\r\n}\r\n`\r\n  }}\r\n/>\r\n\r\n      <main style={{ padding: \"2.5rem 1rem 6rem\", maxWidth: 1200, margin: \"0 auto\" }}>\r\n        {/* Brand story */}\r\n        <Suspense fallback={<div style={{padding:24}}>Loading brand story…</div>}>\r\n          <BrandStory />\r\n        </Suspense>\r\n\r\n        {/* Featured products */}\r\n        <section style={{ marginBottom: 32 }}>\r\n          <h2>Featured Products</h2>\r\n          <div style={{ marginTop: 12 }}>\r\n            <ShopProducts limit={8} />\r\n          </div>\r\n        </section>\r\n\r\n        {/* Why Seemati (USPs) */}\r\n        <Suspense fallback={<div style={{padding:24}}>Loading features…</div>}>\r\n          <WhySeemati />\r\n        </Suspense>\r\n\r\n        {/* Testimonials / reviews */}\r\n        <section style={{ marginBottom: 32 }}>\r\n          <h2>What customers say</h2>\r\n          <Suspense fallback={<div style={{padding:24}}>Loading reviews…</div>}>\r\n            <TestimonialsHome />\r\n          </Suspense>\r\n          <div style={{ marginTop: 12 }}>\r\n            <Link to=\"/testimonials\" className=\"link\">Read more testimonials</Link>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Instagram / social feed */}\r\n        <Suspense fallback={<div style={{padding:24}}>Loading Instagram…</div>}>\r\n          <InstagramFeed />\r\n        </Suspense>\r\n\r\n        {/* Newsletter signup */}\r\n        <Suspense fallback={<div style={{padding:24}}>Loading signup…</div>}>\r\n          <NewsletterSignup />\r\n        </Suspense>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n","// src/shop/shopProductCard.jsx\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n/**\r\n * Robust ShopProductCard\r\n * - Safely extracts image URL from different product shapes.\r\n * - Provides sensible fallbacks.\r\n * - Avoids rendering [object Object] as image src.\r\n */\r\n\r\nfunction extractImageUrl(product) {\r\n  const pickFromObject = (obj) => {\r\n    if (!obj) return null;\r\n    if (typeof obj === \"string\") return obj;\r\n    if (typeof obj === \"object\") {\r\n      // try common keys\r\n      return obj.url || obj.src || obj.path || obj.filename || obj.secure_url || obj.location || null;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  if (!product) return null;\r\n\r\n  let url = pickFromObject(product.image) || pickFromObject(product.thumbnail) || pickFromObject(product.thumb);\r\n\r\n  if (!url && Array.isArray(product.images) && product.images.length > 0) {\r\n    for (const it of product.images) {\r\n      const u = pickFromObject(it);\r\n      if (u) {\r\n        url = u;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!url && product.media) {\r\n    url = pickFromObject(product.media) || (Array.isArray(product.media) && pickFromObject(product.media[0]));\r\n  }\r\n\r\n  if (!url && product.imageObject && typeof product.imageObject === \"object\") {\r\n    url = pickFromObject(product.imageObject);\r\n  }\r\n\r\n  if (typeof url === \"string\") {\r\n    if (url.trim().startsWith(\"[object\")) return null;\r\n    return url;\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport default function ShopProductCard({ product }) {\r\n  if (!product) return null;\r\n\r\n  const title = product.title || product.name || product.productName || product.slug || \"Untitled product\";\r\n  const price =\r\n    product.price ||\r\n    (product.variants && product.variants[0] && (product.variants[0].price || product.variants[0].mrp)) ||\r\n    (product.prices && product.prices[0]) ||\r\n    null;\r\n\r\n  const rawImage = extractImageUrl(product);\r\n\r\n  // If rawImage is a relative path without leading slash, normalize it to start with '/'\r\n  const imgSrc = rawImage\r\n    ? rawImage.startsWith(\"http\") || rawImage.startsWith(\"/\") // good\r\n      ? rawImage\r\n      : `/${rawImage}`\r\n    : \"/images/product-placeholder.png\"; // fallback placeholder (ensure this exists in /public/images or change path)\r\n\r\n  const slug = (product.slug && typeof product.slug === \"string\" && product.slug) || product._id || product.id || \"\";\r\n\r\n  return (\r\n    <article\r\n      style={{\r\n        borderRadius: 10,\r\n        background: \"#fff\",\r\n        padding: 12,\r\n        boxShadow: \"0 1px 4px rgba(0,0,0,0.04)\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        gap: 8,\r\n      }}\r\n    >\r\n      <Link to={slug ? `/product/${slug}` : \"#\"} style={{ textDecoration: \"none\", color: \"inherit\" }}>\r\n        <div style={{ width: \"100%\", paddingTop: \"100%\", position: \"relative\", overflow: \"hidden\", borderRadius: 8 }}>\r\n          <img\r\n            src={imgSrc}\r\n            alt={title}\r\n            onError={(e) => {\r\n              e.target.onerror = null;\r\n              e.target.src =\r\n                \"data:image/svg+xml;charset=UTF-8,<svg xmlns='http://www.w3.org/2000/svg' width='400' height='400'><rect width='100%' height='100%' fill='%23fafafa'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-size='18' fill='%23ccc'>No image</text></svg>\";\r\n            }}\r\n            style={{ position: \"absolute\", top: 0, left: 0, width: \"100%\", height: \"100%\", objectFit: \"cover\" }}\r\n          />\r\n        </div>\r\n\r\n        <div style={{ marginTop: 8 }}>\r\n          <div style={{ fontSize: 14, fontWeight: 600 }}>{title}</div>\r\n          <div style={{ fontSize: 13, color: \"#666\", marginTop: 6 }}>{price ? `₹ ${price}` : \"Price not set\"}</div>\r\n        </div>\r\n      </Link>\r\n    </article>\r\n  );\r\n}\r\n"],"names":["PAGE_SIZE","ShopProducts","_ref","preview","products","setProducts","useState","loading","setLoading","error","setError","query","setQuery","page","setPage","normalizeArray","data","Array","isArray","docs","items","arr","Object","values","find","v","useEffect","mounted","async","res","fetch","credentials","ok","console","warn","status","res2","Error","concat","data2","json","err","load","filtered","useMemo","length","q","trim","toLowerCase","filter","p","title","name","slug","description","tags","join","includes","totalPages","Math","max","ceil","pageItems","start","slice","previewItems","gotoPage","clamped","min","window","scrollTo","top","behavior","_jsxs","style","padding","maxWidth","margin","children","_jsx","Helmet","display","alignItems","gap","marginBottom","placeholder","value","onChange","e","target","flex","borderRadius","border","minWidth","onClick","background","color","height","marginTop","_Fragment","gridTemplateColumns","map","ShopProductCard","product","_id","id","random","justifyContent","disabled","pagerBtnStyle","cursor","HomeBanners","lazy","BrandStory","TestimonialsHome","InstagramFeed","NewsletterSignup","WhySeemati","heroImages","HomePage","index","setIndex","setInterval","i","clearInterval","className","src","onError","alt","prev","next","_","role","Link","to","Suspense","fallback","type","dangerouslySetInnerHTML","__html","limit","productName","price","variants","mrp","prices","rawImage","pickFromObject","obj","url","path","filename","secure_url","location","image","thumbnail","thumb","images","it","u","media","imageObject","startsWith","extractImageUrl","imgSrc","boxShadow","flexDirection","textDecoration","width","paddingTop","position","overflow","onerror","left","objectFit","fontSize","fontWeight"],"ignoreList":[],"sourceRoot":""}