{"version":3,"file":"static/js/751.16cd43df.chunk.js","mappings":"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","sources":["api/axiosInstance.js","admin/AdminProductList.js","admin/AdminProductEdit.js","admin/ProductForm.jsx","admin/AdminAnnouncements.js","admin/AdminPage.jsx"],"sourcesContent":["// src/api/axiosInstance.js\r\nimport axios from 'axios';\r\n\r\n/**\r\n * axiosInstance\r\n *\r\n * - Uses REACT_APP_API_BASE if defined (e.g. set to http://localhost:4000 for local testing).\r\n * - Otherwise defaults to http://localhost:4000 (local dev) — this lets you test your local backend.\r\n * - Keeps withCredentials true so cookies/auth work same as production.\r\n *\r\n * Important:\r\n * - Your frontend code currently calls endpoints like \"/api/products\" (i.e. includes \"/api\").\r\n *   So this instance intentionally sets the base URL to the host root (no trailing \"/api\")\r\n *   to avoid creating double \"/api/api/...\" URLs.\r\n *\r\n * Usage:\r\n *  - For local testing you can set REACT_APP_API_BASE=http://localhost:4000 in your frontend .env\r\n *  - When you want to use production API, set REACT_APP_API_BASE=https://api.seemati.in\r\n */\r\n\r\nconst BASE = process.env.REACT_APP_API_BASE || 'http://localhost:4000';\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: BASE,\r\n  withCredentials: true,\r\n  timeout: 60000\r\n});\r\n\r\n// Basic request/response logger useful while debugging (optional)\r\naxiosInstance.interceptors.request.use(cfg => {\r\n  // uncomment for verbose local debugging:\r\n  // console.debug('[API request]', cfg.method.toUpperCase(), cfg.url);\r\n  return cfg;\r\n}, err => Promise.reject(err));\r\n\r\naxiosInstance.interceptors.response.use(resp => resp, err => {\r\n  // normalize errors\r\n  if (err && err.response) {\r\n    // you can log or transform here\r\n    // console.error('[API error]', err.response.status, err.response.config && err.response.config.url);\r\n  }\r\n  return Promise.reject(err);\r\n});\r\n\r\nexport default axiosInstance;\r\n","// src/admin/AdminProductList.js\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"../api/axiosInstance\";\r\n\r\n/**\r\n * AdminProductList (debug-friendly full replacement)\r\n * - Tries axios relative endpoints first (respects axios.defaults.baseURL)\r\n * - Falls back to direct fetch to https://api.seemati.in/api/products\r\n * - Prints verbose console logs prefixed with [AdminProductList]\r\n * - Keeps your existing UI: Edit/Delete/Preview etc.\r\n */\r\n\r\nexport default function AdminProductList() {\r\n  const [products, setProducts] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [actionMsg, setActionMsg] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  // Direct backend fallback (bypass Vercel rewrite) — used only for debugging\r\n  const BACKEND_FALLBACK_BASE = \"https://api.seemati.in/api\";\r\n\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n\r\n    async function fetchProducts() {\r\n      console.log(\"[AdminProductList] Starting fetchProducts\");\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      // token keys to try (after OTP login)\r\n      const token =\r\n        (typeof window !== \"undefined\" && localStorage.getItem(\"token\")) ||\r\n        (typeof window !== \"undefined\" && localStorage.getItem(\"authToken\")) ||\r\n        null;\r\n      const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n      // Determine axios base to avoid double '/api'\r\n      let base = \"\";\r\n      try {\r\n        base = (axios && axios.defaults && axios.defaults.baseURL) || \"\";\r\n      } catch (e) {\r\n        base = \"\";\r\n      }\r\n      const baseHasApi = typeof base === \"string\" && /\\/api\\/?$/.test(base);\r\n      console.log(\"[AdminProductList] axios.defaults.baseURL:\", base, \"baseHasApi:\", baseHasApi);\r\n\r\n      // Candidate endpoints (relative) — we try multiple shapes to be safe\r\n      const endpoints = baseHasApi\r\n        ? [\"/products\", \"/admin/products\", \"/products?page=1&limit=200\"]\r\n        : [\"/api/products\", \"/api/admin/products\", \"/api/products?page=1&limit=200\"];\r\n\r\n      // Try each endpoint using axios (respects baseURL)\r\n      for (const ep of endpoints) {\r\n        try {\r\n          console.log(\"[AdminProductList] Trying axios GET\", ep);\r\n          const res = await axios.get(ep, { headers });\r\n          console.log(\"[AdminProductList] axios response for\", ep, \"status:\", res && res.status, \"data:\", res && res.data);\r\n          if (res && (res.status === 200 || res.data)) {\r\n            const data = res.data;\r\n            const list =\r\n              Array.isArray(data)\r\n                ? data\r\n                : Array.isArray(data?.products)\r\n                ? data.products\r\n                : Array.isArray(data?.data)\r\n                ? data.data\r\n                : [];\r\n            if (!cancelled) {\r\n              setProducts(list);\r\n              setLoading(false);\r\n              console.log(\"[AdminProductList] Products set from axios:\", list.length);\r\n            }\r\n            return;\r\n          }\r\n        } catch (err) {\r\n          console.warn(\"[AdminProductList] axios GET failed for\", ep, err && err.message ? err.message : err);\r\n          // continue to next endpoint\r\n        }\r\n      }\r\n\r\n      // Fallback: try direct fetch to backend domain (bypasses Vercel rewrite; helpful to detect rewrite/CORS issues)\r\n      try {\r\n        const url = `${BACKEND_FALLBACK_BASE}/products`;\r\n        console.log(\"[AdminProductList] Attempting fallback fetch to\", url);\r\n        const resp = await fetch(url, {\r\n          method: \"GET\",\r\n          credentials: \"include\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            ...headers,\r\n          },\r\n        });\r\n        console.log(\"[AdminProductList] fallback fetch status:\", resp.status, resp.statusText);\r\n        if (!resp.ok) {\r\n          const txt = await resp.text().catch(() => null);\r\n          throw new Error(`Fallback fetch failed: ${resp.status} ${txt || resp.statusText}`);\r\n        }\r\n        const json = await resp.json().catch((e) => {\r\n          throw new Error(\"Fallback fetch JSON parse failed: \" + (e && e.message));\r\n        });\r\n        console.log(\"[AdminProductList] fallback fetch json:\", json);\r\n        const list =\r\n          Array.isArray(json)\r\n            ? json\r\n            : Array.isArray(json?.products)\r\n            ? json.products\r\n            : Array.isArray(json?.data)\r\n            ? json.data\r\n            : [];\r\n        if (!cancelled) {\r\n          setProducts(list);\r\n          setLoading(false);\r\n          console.log(\"[AdminProductList] Products set from fallback fetch:\", list.length);\r\n        }\r\n        return;\r\n      } catch (fbErr) {\r\n        console.error(\"[AdminProductList] fallback fetch failed:\", fbErr && fbErr.message ? fbErr.message : fbErr);\r\n        if (!cancelled) {\r\n          setError(fbErr && fbErr.message ? fbErr.message : \"Unable to load products\");\r\n          setLoading(false);\r\n        }\r\n      }\r\n    }\r\n\r\n    fetchProducts();\r\n\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, []);\r\n\r\n  // Helpers (kept from your previous file)\r\n  function pickThumbnail(p) {\r\n    if (!p) return null;\r\n    if (p.thumbnail) return p.thumbnail;\r\n    if (p.image) return p.image;\r\n    if (p.images && p.images.length) {\r\n      const first = p.images[0];\r\n      if (!first) return null;\r\n      if (typeof first === \"string\") return first;\r\n      return first.url || first.path || first.src || null;\r\n    }\r\n    return null;\r\n  }\r\n  function pickStock(p) {\r\n    return p?.stock ?? p?.qty ?? p?.inventory ?? p?.quantity ?? p?.available ?? \"-\";\r\n  }\r\n\r\n  // delete with optimistic UI (kept)\r\n  async function handleDelete(id) {\r\n    const ok = window.confirm(\"Delete this product? This action cannot be undone.\");\r\n    if (!ok) return;\r\n    const prev = products || [];\r\n    setProducts(prev.filter((x) => (x._id || x.id) !== id));\r\n    setActionMsg(\"Deleting...\");\r\n    try {\r\n      const possible = [`/api/products/${id}`, `/api/admin/products/${id}`, `/products/${id}`, `/admin/products/${id}`];\r\n      let deleted = false;\r\n      for (const ep of possible) {\r\n        try {\r\n          const r = await axios.delete(ep);\r\n          if (r && (r.status === 200 || r.status === 204 || (r.data && r.data.success))) {\r\n            deleted = true;\r\n            break;\r\n          }\r\n        } catch (err) {\r\n          console.warn(\"[AdminProductList] delete attempt failed for\", ep, err && err.message);\r\n        }\r\n      }\r\n      if (!deleted) {\r\n        const resp = await fetch(`/api/products/${id}`, { method: \"DELETE\", credentials: \"include\" });\r\n        if (!resp.ok) throw new Error(`Delete failed ${resp.status}`);\r\n      }\r\n      setActionMsg(\"Deleted\");\r\n      setTimeout(() => setActionMsg(\"\"), 1200);\r\n      console.log(\"[AdminProductList] Deleted product\", id);\r\n    } catch (err) {\r\n      setActionMsg(`Delete failed: ${err?.message || \"unknown\"}`);\r\n      setProducts(prev);\r\n      setTimeout(() => setActionMsg(\"\"), 2500);\r\n      console.error(\"[AdminProductList] delete error:\", err);\r\n    }\r\n  }\r\n\r\n  // Render states\r\n  if (loading) {\r\n    return (\r\n      <div style={{ padding: 20 }}>\r\n        <h2>Admin — Products</h2>\r\n        <p>Loading products… (open DevTools → Console to see [AdminProductList] logs)</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div style={{ padding: 20 }}>\r\n        <h2>Admin — Products</h2>\r\n        <div style={{ color: \"crimson\" }}>Error loading products: {String(error)}</div>\r\n        <div style={{ marginTop: 10 }}>\r\n          <button onClick={() => window.location.reload()}>Retry</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!products || products.length === 0) {\r\n    return (\r\n      <div style={{ padding: 20 }}>\r\n        <h2>Admin — Products</h2>\r\n        <p>No products returned from API.</p>\r\n        <p>\r\n          <Link to=\"/admin/products/new\">\r\n            <button>+ Add product</button>\r\n          </Link>\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ padding: 20 }}>\r\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n        <h2 style={{ margin: 0 }}>Admin — Products ({products.length})</h2>\r\n        <div style={{ display: \"flex\", gap: 8 }}>\r\n          <Link to=\"/admin/products/new\">\r\n            <button style={{ padding: \"8px 12px\" }}>+ Add product</button>\r\n          </Link>\r\n          <button onClick={() => window.location.reload()}>Refresh</button>\r\n        </div>\r\n      </div>\r\n\r\n      {actionMsg && <div style={{ marginTop: 12 }}>{actionMsg}</div>}\r\n\r\n      <div style={{ overflowX: \"auto\", marginTop: 16 }}>\r\n        <table style={{ width: \"100%\", borderCollapse: \"collapse\", minWidth: 900 }}>\r\n          <thead>\r\n            <tr style={{ borderBottom: \"2px solid #eee\", textAlign: \"left\" }}>\r\n              <th style={{ padding: 10 }}>#</th>\r\n              <th style={{ padding: 10 }}>SKU</th>\r\n              <th style={{ padding: 10 }}>Thumbnail</th>\r\n              <th style={{ padding: 10 }}>Name / Slug</th>\r\n              <th style={{ padding: 10 }}>Category</th>\r\n              <th style={{ padding: 10 }}>Price</th>\r\n              <th style={{ padding: 10 }}>Stock</th>\r\n              <th style={{ padding: 10 }}>Published</th>\r\n              <th style={{ padding: 10 }}>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {products.map((p, idx) => {\r\n              const id = p._id || p.id || p.slug || idx;\r\n              const thumb = pickThumbnail(p);\r\n              return (\r\n                <tr key={id} style={{ borderBottom: \"1px solid #f3f3f3\" }}>\r\n                  <td style={{ padding: 10 }}>{idx + 1}</td>\r\n                  <td style={{ padding: 10, width: 120 }}>{p.sku || p.code || \"-\"}</td>\r\n                  <td style={{ padding: 10, width: 94 }}>\r\n                    {thumb ? (\r\n                      <img\r\n                        src={thumb}\r\n                        alt={p.title || p.name}\r\n                        style={{ width: 64, height: 64, objectFit: \"cover\", borderRadius: 6 }}\r\n                        onError={(e) => (e.currentTarget.style.display = \"none\")}\r\n                      />\r\n                    ) : (\r\n                      <div\r\n                        style={{\r\n                          width: 64,\r\n                          height: 64,\r\n                          borderRadius: 6,\r\n                          background: \"#fafafa\",\r\n                          display: \"flex\",\r\n                          alignItems: \"center\",\r\n                          justifyContent: \"center\",\r\n                          color: \"#999\",\r\n                          fontSize: 12,\r\n                        }}\r\n                      >\r\n                        no image\r\n                      </div>\r\n                    )}\r\n                  </td>\r\n                  <td style={{ padding: 10, minWidth: 220 }}>\r\n                    <div style={{ fontWeight: 700 }}>{p.title || p.name || \"-\"}</div>\r\n                    <div style={{ color: \"#666\", fontSize: 13 }}>{p.slug || \"-\"}</div>\r\n                  </td>\r\n                  <td style={{ padding: 10 }}>{p.category || p.cat || \"-\"}</td>\r\n                  <td style={{ padding: 10 }}>{p.price ?? p.mrp ?? \"-\"}</td>\r\n                  <td style={{ padding: 10 }}>{pickStock(p)}</td>\r\n                  <td style={{ padding: 10 }}>{p.published ? \"Yes\" : \"No\"}</td>\r\n                  <td style={{ padding: 10 }}>\r\n                    <div style={{ display: \"flex\", gap: 8 }}>\r\n                      <Link to={`/admin/products/${id}`}>\r\n                        <button style={{ padding: \"6px 10px\" }}>Edit</button>\r\n                      </Link>\r\n                      <button onClick={() => handleDelete(id)} style={{ padding: \"6px 10px\" }}>\r\n                        Delete\r\n                      </button>\r\n                      <button\r\n                        onClick={() => {\r\n                          const slug = p.slug || p._id || p.id;\r\n                          if (slug) window.open(`/product/${slug}`, \"_blank\");\r\n                          else alert(\"No slug available\");\r\n                        }}\r\n                        style={{ padding: \"6px 10px\" }}\r\n                      >\r\n                        Preview\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","// src/admin/AdminProductEdit.js\r\nimport React, { useEffect, useState, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axiosInstance from '../api/axiosInstance';\r\n\r\n/*\r\n Full replacement preserving your features:\r\n - color picker, video preview, auto-slug, auto-sku, images upload, keepMap, etc.\r\n - Adds fallback for GET product\r\n - On upload, tries multiple candidate endpoints (PUT/POST) until one accepts the files\r\n - On save, tries multiple candidate update endpoints until one succeeds\r\n*/\r\n\r\nconst NAMED_COLORS = {\r\n  white: '#FFFFFF', silver: '#C0C0C0', gray: '#808080', black: '#000000',\r\n  red: '#FF0000', maroon: '#800000', yellow: '#FFFF00', olive: '#808000',\r\n  lime: '#00FF00', green: '#008000', aqua: '#00FFFF', teal: '#008080',\r\n  blue: '#0000FF', navy: '#000080', fuchsia: '#FF00FF', purple: '#800080',\r\n  pink: '#FFC0CB', brown: '#A52A2A', orange: '#FFA500', gold: '#FFD700',\r\n  peach: '#FFDAB9', mustard: '#FFDB58', coral: '#FF7F50'\r\n};\r\n\r\nfunction hexToRgb(hex) {\r\n  if (!hex) return { r: 0, g: 0, b: 0 };\r\n  const clean = hex.replace('#', '').trim();\r\n  if (clean.length === 3) {\r\n    return {\r\n      r: parseInt(clean[0] + clean[0], 16),\r\n      g: parseInt(clean[1] + clean[1], 16),\r\n      b: parseInt(clean[2] + clean[2], 16)\r\n    };\r\n  }\r\n  return {\r\n    r: parseInt(clean.substring(0, 2), 16),\r\n    g: parseInt(clean.substring(2, 4), 16),\r\n    b: parseInt(clean.substring(4, 6), 16)\r\n  };\r\n}\r\nfunction nearestColorName(hex) {\r\n  try {\r\n    const src = hexToRgb(hex);\r\n    let best = null;\r\n    let bestDist = Infinity;\r\n    Object.entries(NAMED_COLORS).forEach(([name, h]) => {\r\n      const t = hexToRgb(h);\r\n      const dx = src.r - t.r, dy = src.g - t.g, dz = src.b - t.b;\r\n      const dist = dx * dx + dy * dy + dz * dz;\r\n      if (dist < bestDist) { bestDist = dist; best = name; }\r\n    });\r\n    return best || '';\r\n  } catch { return ''; }\r\n}\r\n\r\nfunction makeSlug(text) {\r\n  if (!text) return \"\";\r\n  return String(text)\r\n    .toLowerCase()\r\n    .trim()\r\n    .replace(/['\"]/g, \"\")\r\n    .replace(/[^a-z0-9]+/g, \"-\")\r\n    .replace(/^-+|-+$/g, \"\")\r\n    .replace(/-+/g, \"-\");\r\n}\r\n\r\nfunction sanitizeAlnum(s = \"\") {\r\n  return String(s || \"\").replace(/[^a-z0-9]/gi, \"\").toUpperCase();\r\n}\r\nfunction generateSku({ brand, category, title }) {\r\n  const b = sanitizeAlnum(brand || \"\");\r\n  const c = sanitizeAlnum(category || \"\");\r\n  let prefix = \"KPL\";\r\n  if (b && c) {\r\n    const pb = b.slice(0, 3);\r\n    const pc = c.slice(0, 3);\r\n    prefix = `${pb}-${pc}`;\r\n  } else if (b) {\r\n    prefix = `${b.slice(0, 3)}`;\r\n  } else if (c) {\r\n    prefix = `${c.slice(0, 3)}`;\r\n  } else if (title) {\r\n    prefix = sanitizeAlnum(title).slice(0, 3) || \"KPL\";\r\n  }\r\n  const counter = String(Math.abs(Date.now()) % 1000).padStart(3, \"0\");\r\n  return `${prefix}-${counter}`;\r\n}\r\n\r\nexport default function AdminProductEdit() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const fileInputRef = useRef(null);\r\n  const colorPickerRef = useRef(null);\r\n  const [colorPickerIndex, setColorPickerIndex] = useState(null);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [product, setProduct] = useState({\r\n    title: '', slug: '', price: '', mrp: '', stock: '', sku: '',\r\n    brand: '', category: '', videoUrl: '', colors: '', sizes: '',\r\n    description: '', isPublished: false\r\n  });\r\n\r\n  const [slugEdited, setSlugEdited] = useState(false);\r\n  const [skuEdited, setSkuEdited] = useState(false);\r\n\r\n  const [existingImages, setExistingImages] = useState([]);\r\n  const [keepMap, setKeepMap] = useState({});\r\n  const [selectedFiles, setSelectedFiles] = useState([]);\r\n  const [swatches, setSwatches] = useState([]);\r\n\r\n  const parseColorsInputToArray = (text) => {\r\n    if (!text) return [];\r\n    return text.split(',').map(s => s.trim()).filter(Boolean);\r\n  };\r\n  const normalizeToHexIfPossible = (col) => {\r\n    if (!col) return '';\r\n    const t = col.trim();\r\n    if (/^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/.test(t)) {\r\n      const clean = t.replace('#', '');\r\n      const full = clean.length === 3 ? clean[0]+clean[0]+clean[1]+clean[1]+clean[2]+clean[2] : clean;\r\n      return `#${full.toUpperCase()}`;\r\n    }\r\n    const lower = t.toLowerCase();\r\n    if (NAMED_COLORS[lower]) return NAMED_COLORS[lower].toUpperCase();\r\n    return t;\r\n  };\r\n\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n    if (!id) {\r\n      setLoading(false);\r\n      setExistingImages([]);\r\n      setKeepMap({});\r\n      setSwatches([]);\r\n      setProduct(prev => {\r\n        const seeded = { ...prev };\r\n        if (!seeded.slug && seeded.title) seeded.slug = makeSlug(seeded.title);\r\n        if (!seeded.sku) seeded.sku = generateSku({ brand: seeded.brand, category: seeded.category, title: seeded.title });\r\n        return seeded;\r\n      });\r\n      return () => { cancelled = true; };\r\n    }\r\n\r\n    async function load() {\r\n      try {\r\n        setLoading(true);\r\n        try {\r\n          const resp = await axiosInstance.get(`/api/products/${id}`);\r\n          if (resp && resp.data) {\r\n            const p = resp.data.product || (resp.data.success && resp.data.products && resp.data.products[0]) || resp.data;\r\n            if (p && typeof p === 'object') {\r\n              populateFromProduct(p);\r\n              setLoading(false);\r\n              return;\r\n            }\r\n          }\r\n        } catch (err) {\r\n          console.warn('Direct GET failed, falling back to list', err && err.response ? err.response.status : err.message);\r\n        }\r\n\r\n        try {\r\n          const listResp = await axiosInstance.get('/api/products');\r\n          const products = (listResp && listResp.data && (listResp.data.products || listResp.data)) || [];\r\n          if (Array.isArray(products) && products.length) {\r\n            let found = products.find(p => String(p._id) === String(id));\r\n            if (!found) found = products.find(p => p.slug === id || String(p.slug) === String(id));\r\n            if (found) { populateFromProduct(found); setLoading(false); return; }\r\n          }\r\n          alert('Product not found on server.');\r\n        } catch (err) {\r\n          console.error('Products list fallback failed', err);\r\n          alert('Failed to load product list fallback. See console.');\r\n        }\r\n      } finally {\r\n        if (!cancelled) setLoading(false);\r\n      }\r\n    }\r\n\r\n    function populateFromProduct(p) {\r\n      setProduct({\r\n        title: p.title || '', slug: p.slug || '', price: p.price || '', mrp: p.mrp || '',\r\n        stock: p.stock || '', sku: p.sku || '', brand: p.brand || '', category: p.category || '',\r\n        videoUrl: p.videoUrl || '', colors: Array.isArray(p.colors) ? p.colors.join(', ') : (p.colors || ''),\r\n        sizes: Array.isArray(p.sizes) ? p.sizes.join(', ') : (p.sizes || ''), description: p.description || '',\r\n        isPublished: !!p.isPublished\r\n      });\r\n      if (p.slug) setSlugEdited(true);\r\n      if (p.sku) setSkuEdited(true);\r\n      const imgs = Array.isArray(p.images) ? p.images.map(it => (typeof it === 'string' ? it : (it.url || it))) : [];\r\n      setExistingImages(imgs);\r\n      const map = {}; imgs.forEach(url => (map[url] = true)); setKeepMap(map);\r\n      const parsed = Array.isArray(p.colors) ? p.colors : (p.colors ? p.colors.split(',').map(s => s.trim()) : []);\r\n      const normalized = parsed.map((c) => normalizeToHexIfPossible(c));\r\n      setSwatches(normalized);\r\n    }\r\n\r\n    load();\r\n    return () => { cancelled = true; selectedFiles.forEach(s => s.previewUrl && URL.revokeObjectURL(s.previewUrl)); };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    const mapped = swatches.map((s) => {\r\n      if (!s) return '';\r\n      const found = Object.entries(NAMED_COLORS).find(([, v]) => v.toUpperCase() === s.toUpperCase());\r\n      if (found) return found[0].toUpperCase();\r\n      return s;\r\n    }).filter(Boolean).join(', ');\r\n    setProduct(prev => ({ ...prev, colors: mapped }));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [swatches]);\r\n\r\n  useEffect(() => {\r\n    if (!slugEdited) {\r\n      setProduct(prev => ({ ...prev, slug: makeSlug(prev.title || \"\") }));\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [product.title, slugEdited]);\r\n\r\n  useEffect(() => {\r\n    if (!skuEdited) {\r\n      const s = generateSku({ brand: product.brand, category: product.category, title: product.title });\r\n      setProduct(prev => ({ ...prev, sku: s }));\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [product.brand, product.category, product.title, skuEdited]);\r\n\r\n  function handleChange(e) {\r\n    const { name, value, checked } = e.target;\r\n    if (name === 'isPublished') setProduct(prev => ({ ...prev, isPublished: !!checked }));\r\n    else {\r\n      if (name === 'slug') setSlugEdited(true);\r\n      if (name === 'sku') setSkuEdited(true);\r\n      setProduct(prev => ({ ...prev, [name]: value }));\r\n      if (name === 'colors') {\r\n        const arr = parseColorsInputToArray(value).map(c => normalizeToHexIfPossible(c));\r\n        setSwatches(arr);\r\n      }\r\n    }\r\n  }\r\n\r\n  function onFilesSelected(e) {\r\n    const files = Array.from(e.target.files || []);\r\n    if (!files.length) return;\r\n    const newSelected = files.map(f => ({ file: f, previewUrl: URL.createObjectURL(f) }));\r\n    setSelectedFiles(prev => [...prev, ...newSelected]);\r\n    if (fileInputRef.current) fileInputRef.current.value = '';\r\n  }\r\n  function removeSelectedPreview(index) {\r\n    setSelectedFiles(prev => {\r\n      const copy = [...prev];\r\n      const removed = copy.splice(index, 1)[0];\r\n      if (removed && removed.previewUrl) URL.revokeObjectURL(removed.previewUrl);\r\n      return copy;\r\n    });\r\n  }\r\n  function toggleKeep(url) { setKeepMap(prev => ({ ...prev, [url]: !prev[url] })); }\r\n\r\n  function handleGenerateSku() {\r\n    const newSku = generateSku({ brand: product.brand, category: product.category, title: product.title });\r\n    setProduct(prev => ({ ...prev, sku: newSku }));\r\n    setSkuEdited(true);\r\n  }\r\n\r\n  // --- Robust uploadFilesToProduct: tries multiple candidate endpoints for uploading files ---\r\n  async function uploadFilesToProduct(pId) {\r\n    if (!selectedFiles.length) return [];\r\n    if (!pId) throw new Error('Missing product id for upload');\r\n\r\n    const formData = new FormData();\r\n    selectedFiles.forEach(s => formData.append('files', s.file));\r\n\r\n    // candidate endpoints (common mounts seen in your backend)\r\n    // the frontend will try them in order until one returns success\r\n    const candidates = [\r\n      { method: 'put', url: `/api/products/${pId}/upload` },                // common expectation (your frontend used this)\r\n      { method: 'put', url: `/api/admin/product/${pId}/upload` },           // try admin products upload variant\r\n      { method: 'put', url: `/api/admin/products/${pId}/upload` },          // another admin variant\r\n      { method: 'put', url: `/api/adminProduct/products/${pId}/upload` },   // adminProduct module variant\r\n      { method: 'put', url: `/api/uploadRoutes/${pId}/upload` },            // uploadRoutes.cjs : router.put('/:id/upload')\r\n      { method: 'put', url: `/api/upload/${pId}/upload` },                  // fallback possibility\r\n      { method: 'post', url: `/api/products/upload` },                      // upload.cjs has router.post('/products/upload')\r\n      { method: 'post', url: `/api/adminUpload/${pId}` },                   // adminUpload module variations\r\n    ];\r\n\r\n    let lastErr = null;\r\n    for (const c of candidates) {\r\n      try {\r\n        let resp;\r\n        if (c.method === 'put') {\r\n          resp = await axiosInstance.put(c.url, formData, { headers: { 'Content-Type': 'multipart/form-data' } });\r\n        } else {\r\n          resp = await axiosInstance.post(c.url, formData, { headers: { 'Content-Type': 'multipart/form-data' } });\r\n        }\r\n        // Accept success shapes:\r\n        const data = resp && resp.data ? resp.data : {};\r\n        // Normalize to array of urls if possible\r\n        let uploadedArray = [];\r\n        if (Array.isArray(data.uploaded) && data.uploaded.length) uploadedArray = data.uploaded;\r\n        else if (data.key && data.url) uploadedArray = [{ key: data.key, url: data.url }];\r\n        else if (Array.isArray(data)) uploadedArray = data;\r\n        else if (data.url) uploadedArray = [{ url: data.url }];\r\n\r\n        const urls = uploadedArray.map(u => (u && u.url) ? u.url : (typeof u === 'string' ? u : null)).filter(Boolean);\r\n        if (urls.length) {\r\n          return urls;\r\n        }\r\n\r\n        // some upload endpoints return the created media but not in 'uploaded' key — try to handle common shapes\r\n        if (data && data.success && Array.isArray(data.files)) {\r\n          const urls2 = data.files.map(f => (f && f.url) ? f.url : null).filter(Boolean);\r\n          if (urls2.length) return urls2;\r\n        }\r\n\r\n        // treat 2xx without direct urls as success (maybe server responds with product object later)\r\n        if (resp.status >= 200 && resp.status < 300) {\r\n          // if server returned product with images, try to get urls\r\n          if (data && data.product && Array.isArray(data.product.images)) {\r\n            return data.product.images.map(it => (typeof it === 'string' ? it : (it.url || null))).filter(Boolean);\r\n          }\r\n          // otherwise consider as success but no urls — callers will handle empty\r\n          return [];\r\n        }\r\n      } catch (err) {\r\n        lastErr = err;\r\n        const status = err && err.response && err.response.status;\r\n        console.warn(`[upload] ${c.method.toUpperCase()} ${c.url} failed`, status || err.message);\r\n        // try next candidate\r\n      }\r\n    }\r\n    // if we reach here, all attempts failed\r\n    const message = lastErr && lastErr.response && lastErr.response.data && lastErr.response.data.message\r\n      ? lastErr.response.data.message\r\n      : (lastErr && lastErr.message) || 'Upload failed';\r\n    throw new Error(message);\r\n  }\r\n\r\n  async function createMinimalProduct(body) {\r\n    const payload = {\r\n      title: body.title || 'Untitled product',\r\n      slug: body.slug || '',\r\n      price: Number(body.price) || 0,\r\n      mrp: Number(body.mrp) || 0,\r\n      stock: Number(body.stock) || 0,\r\n      sku: body.sku || '',\r\n      brand: body.brand || '',\r\n      category: body.category || '',\r\n      videoUrl: body.videoUrl || '',\r\n      description: body.description || '',\r\n      isPublished: !!body.isPublished,\r\n      colors: body.colors || [],\r\n      sizes: body.sizes || [],\r\n      images: []\r\n    };\r\n    const res = await axiosInstance.post('/api/products', payload);\r\n    const created = res && res.data ? (res.data.product || res.data) : null;\r\n    if (!created) throw new Error('Create product failed: no product returned');\r\n    return created;\r\n  }\r\n\r\n  async function handleSave(e) {\r\n    e.preventDefault();\r\n    setSaving(true);\r\n\r\n    try {\r\n      const bodyForProduct = {\r\n        title: product.title,\r\n        slug: product.slug,\r\n        price: Number(product.price) || 0,\r\n        mrp: Number(product.mrp) || 0,\r\n        stock: Number(product.stock) || 0,\r\n        sku: product.sku,\r\n        brand: product.brand,\r\n        category: product.category,\r\n        videoUrl: product.videoUrl,\r\n        description: product.description,\r\n        isPublished: !!product.isPublished,\r\n        colors: swatches.map(s => s),\r\n        sizes: product.sizes ? product.sizes.split(',').map(s => s.trim()).filter(Boolean) : []\r\n      };\r\n\r\n      let targetId = id;\r\n\r\n      if (!targetId) {\r\n        if (!bodyForProduct.slug) bodyForProduct.slug = makeSlug(bodyForProduct.title || \"\");\r\n        if (!bodyForProduct.sku) bodyForProduct.sku = generateSku({ brand: bodyForProduct.brand, category: bodyForProduct.category, title: bodyForProduct.title });\r\n        const created = await createMinimalProduct(bodyForProduct);\r\n        targetId = created._id || created.id || (created._id && created._id.toString());\r\n        if (!targetId) throw new Error('Could not obtain new product id from create response');\r\n        setProduct(prev => ({ ...prev, slug: created.slug || prev.slug, sku: created.sku || prev.sku }));\r\n      }\r\n\r\n      // Try upload first if files selected\r\n      let uploadedUrls = [];\r\n      if (selectedFiles.length) {\r\n        try {\r\n          uploadedUrls = await uploadFilesToProduct(targetId);\r\n        } catch (err) {\r\n          console.error('Upload request failed', err);\r\n          throw new Error('Upload request failed: ' + (err.message || err));\r\n        }\r\n      }\r\n\r\n      const kept = existingImages.filter(u => keepMap[u]);\r\n      const finalImages = [...kept];\r\n      uploadedUrls.forEach(u => { if (!finalImages.includes(u)) finalImages.push(u); });\r\n\r\n      const finalBody = { ...bodyForProduct, images: finalImages };\r\n\r\n      const triedUrls = [\r\n        { url: `/api/products/${targetId}`, desc: 'public' },\r\n        { url: `/api/admin/product/${targetId}`, desc: 'admin (api/admin/product)' },\r\n        { url: `/api/admin/products/${targetId}`, desc: 'admin (api/admin/products)' },\r\n        { url: `/api/adminProduct/products/${targetId}`, desc: 'adminProduct (api/adminProduct/products)' }\r\n      ];\r\n\r\n      let savedResp = null;\r\n      let lastErr = null;\r\n      for (const t of triedUrls) {\r\n        try {\r\n          const resp = await axiosInstance.put(t.url, finalBody);\r\n          if (resp && resp.status >= 200 && resp.status < 300) {\r\n            savedResp = resp;\r\n            break;\r\n          }\r\n        } catch (err) {\r\n          lastErr = err;\r\n          console.warn(`[save] PUT ${t.url} failed`, err && err.response && err.response.status ? err.response.status : err.message);\r\n        }\r\n      }\r\n\r\n      if (!savedResp) {\r\n        console.error('All update attempts failed', lastErr);\r\n        const msg = lastErr && lastErr.response && lastErr.response.data && lastErr.response.data.message\r\n          ? lastErr.response.data.message\r\n          : (lastErr && lastErr.message) || 'Save failed on all attempted update endpoints';\r\n        throw new Error(msg);\r\n      }\r\n\r\n      selectedFiles.forEach(s => s.previewUrl && URL.revokeObjectURL(s.previewUrl));\r\n      setSelectedFiles([]);\r\n      const updatedProduct = savedResp.data.product || savedResp.data;\r\n      const imgs = Array.isArray(updatedProduct.images) ? updatedProduct.images.map(it => (typeof it === 'string' ? it : (it.url || it))) : [];\r\n      setExistingImages(imgs);\r\n      const map = {}; imgs.forEach(u => (map[u] = true)); setKeepMap(map);\r\n      alert(!id ? 'Product created and saved.' : 'Product updated.');\r\n      if (!id && targetId) navigate(`/admin/products/${targetId}/edit`);\r\n    } catch (err) {\r\n      console.error('Save error', err);\r\n      const msg = (err && err.response && err.response.data && (err.response.data.message || JSON.stringify(err.response.data))) || (err && err.message) || 'Save failed';\r\n      alert(msg);\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  }\r\n\r\n  function openColorPickerAtIndex(idx) {\r\n    setColorPickerIndex(idx);\r\n    if (colorPickerRef.current) {\r\n      const cur = swatches[idx] || '#FFFFFF';\r\n      const normalized = normalizeToHexIfPossible(cur) || '#FFFFFF';\r\n      colorPickerRef.current.value = normalized;\r\n      colorPickerRef.current.click();\r\n    }\r\n  }\r\n  function onColorPickerChange(e) {\r\n    const val = e.target.value;\r\n    const idx = colorPickerIndex;\r\n    setColorPickerIndex(null);\r\n    if (idx == null) return;\r\n    setSwatches(prev => { const copy = [...prev]; copy[idx] = val.toUpperCase(); return copy; });\r\n  }\r\n  function addSwatch() { setSwatches(prev => [...prev, '#FFFFFF']); }\r\n  function removeSwatch(i) { setSwatches(prev => prev.filter((_, idx) => idx !== i)); }\r\n\r\n  function getYouTubeEmbedUrl(raw) {\r\n    if (!raw) return null;\r\n    try {\r\n      const u = raw.trim();\r\n      const vMatch = u.match(/[?&]v=([^&]+)/);\r\n      if (vMatch) return `https://www.youtube.com/embed/${vMatch[1]}`;\r\n      const short = u.match(/youtu\\.be\\/([^?&]+)/);\r\n      if (short) return `https://www.youtube.com/embed/${short[1]}`;\r\n      if (u.includes('youtube.com/embed/')) return u;\r\n      return null;\r\n    } catch { return null; }\r\n  }\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n\r\n  return (\r\n    <div style={{ display: 'flex', gap: 40, padding: 12 }}>\r\n      <form onSubmit={handleSave} style={{ width: '40%' }}>\r\n        <div style={{ marginBottom: 10 }}>\r\n          <button type=\"button\" onClick={() => navigate('/admin/products')}>Back to products</button>\r\n        </div>\r\n\r\n        <div><label>Title</label><br />\r\n          <input name=\"title\" value={product.title} onChange={handleChange} style={{ width: '100%' }} /></div>\r\n\r\n        <div><label>Slug</label><br />\r\n          <input\r\n            name=\"slug\"\r\n            value={product.slug}\r\n            onChange={(e) => { handleChange(e); setSlugEdited(true); }}\r\n            style={{ width: '100%' }} /></div>\r\n\r\n        <div><label>Price</label><br />\r\n          <input name=\"price\" value={product.price} onChange={handleChange} style={{ width: '100%' }} /></div>\r\n\r\n        <div><label>MRP</label><br />\r\n          <input name=\"mrp\" value={product.mrp} onChange={handleChange} style={{ width: '100%' }} /></div>\r\n\r\n        <div><label>Stock</label><br />\r\n          <input name=\"stock\" value={product.stock} onChange={handleChange} style={{ width: '100%' }} /></div>\r\n\r\n        <div><label>SKU</label><br />\r\n          <div style={{ display: 'flex', gap: 8, alignItems: 'center' }}>\r\n            <input\r\n              name=\"sku\"\r\n              value={product.sku}\r\n              onChange={(e) => { handleChange(e); setSkuEdited(true); }}\r\n              style={{ width: '100%' }} />\r\n            <button type=\"button\" onClick={handleGenerateSku}>Generate SKU</button>\r\n          </div>\r\n          <div style={{ fontSize: 12, color: '#555', marginTop: 6 }}>\r\n            Format: BRAND-CTG-XXX or fallback KPL-XXX (XXX = 3-digit counter)\r\n          </div>\r\n        </div>\r\n\r\n        <div><label>Brand</label><br />\r\n          <input name=\"brand\" value={product.brand} onChange={handleChange} style={{ width: '100%' }} /></div>\r\n\r\n        <div><label>Category</label><br />\r\n          <input name=\"category\" value={product.category} onChange={handleChange} style={{ width: '100%' }} /></div>\r\n\r\n        <div><label>Video URL (YouTube)</label><br />\r\n          <input name=\"videoUrl\" value={product.videoUrl} onChange={handleChange} style={{ width: '100%' }} />\r\n          <div style={{ fontSize: 12, marginTop: 6, color: '#555' }}>\r\n            Paste YouTube link (example: https://youtu.be/VIDEOID or https://www.youtube.com/watch?v=VIDEOID)\r\n          </div>\r\n        </div>\r\n\r\n        <div style={{ marginTop: 12 }}>\r\n          <label>Colors (comma-separated)</label><br />\r\n          <input name=\"colors\" value={product.colors} onChange={handleChange} style={{ width: '100%' }} />\r\n          <div style={{ display: 'flex', gap: 12, flexWrap: 'wrap', marginTop: 10, alignItems: 'center' }}>\r\n            {swatches.map((c, i) => {\r\n              const isHex = /^#([0-9A-F]{6})$/i.test(String(c).trim());\r\n              const bg = isHex ? c : '#EEE';\r\n              const suggestedName = isHex ? nearestColorName(c) : (String(c) || '');\r\n              return (\r\n                <div key={i} style={{ textAlign: 'center' }}>\r\n                  <div title={String(c)} onClick={() => openColorPickerAtIndex(i)}\r\n                    style={{ width: 48, height: 48, borderRadius: 6, border: '1px solid #ccc', boxShadow: '0 1px 6px rgba(0,0,0,0.12)', background: bg, cursor: 'pointer' }} />\r\n                  <div style={{ fontSize: 12, marginTop: 6, maxWidth: 80, wordBreak: 'break-word' }}>{suggestedName || String(c).slice(0, 12)}</div>\r\n                  <div style={{ marginTop: 6 }}><button type=\"button\" onClick={() => removeSwatch(i)}>Remove</button></div>\r\n                </div>\r\n              );\r\n            })}\r\n            <div><button type=\"button\" onClick={addSwatch}>+ Add color</button></div>\r\n            <input ref={colorPickerRef} type=\"color\" style={{ display: 'none' }} onChange={onColorPickerChange} aria-hidden=\"true\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div style={{ marginTop: 12 }}>\r\n          <label>Sizes (comma-separated)</label><br />\r\n          <input name=\"sizes\" value={product.sizes} onChange={handleChange} style={{ width: '100%' }} />\r\n        </div>\r\n\r\n        <div><label>Description</label><br />\r\n          <textarea name=\"description\" value={product.description} onChange={handleChange} rows={6} style={{ width: '100%' }} /></div>\r\n\r\n        <div>\r\n          <label><input name=\"isPublished\" type=\"checkbox\" checked={product.isPublished} onChange={handleChange} /> Published</label>\r\n        </div>\r\n\r\n        <div style={{ marginTop: 8 }}>\r\n          <button type=\"submit\" disabled={saving}>{saving ? 'Saving...' : (!id ? 'Create product' : 'Save')}</button>\r\n          <button type=\"button\" onClick={() => navigate('/admin/products')}>Cancel</button>\r\n        </div>\r\n      </form>\r\n\r\n      <div style={{ width: '50%' }}>\r\n        <h3>Existing Images</h3>\r\n        <div style={{ display: 'flex', gap: 12, flexWrap: 'wrap' }}>\r\n          {existingImages.map((url, idx) => (\r\n            <div key={url} style={{ textAlign: 'center', width: 120 }}>\r\n              <img src={url} alt={`img-${idx}`} style={{ width: 100, height: 100, objectFit: 'cover' }} />\r\n              <div><label><input type=\"checkbox\" checked={!!keepMap[url]} onChange={() => toggleKeep(url)} /> Keep</label></div>\r\n              <div><button type=\"button\" onClick={() => { setKeepMap(prev => ({ ...prev, [url]: false })); }}>Remove</button></div>\r\n            </div>\r\n          ))}\r\n          {existingImages.length === 0 && <div>No existing images</div>}\r\n        </div>\r\n\r\n        <h3 style={{ marginTop: 16 }}>Add Images</h3>\r\n        <input ref={fileInputRef} type=\"file\" multiple onChange={onFilesSelected} />\r\n        <div style={{ marginTop: 8, display: 'flex', gap: 12, flexWrap: 'wrap' }}>\r\n          {selectedFiles.map((s, i) => (\r\n            <div key={s.previewUrl + i} style={{ textAlign: 'center', width: 120 }}>\r\n              <img src={s.previewUrl} alt={`preview-${i}`} style={{ width: 100, height: 100, objectFit: 'cover' }} />\r\n              <div><button type=\"button\" onClick={() => removeSelectedPreview(i)}>Remove</button></div>\r\n            </div>\r\n          ))}\r\n          {selectedFiles.length === 0 && <div>No files chosen</div>}\r\n        </div>\r\n\r\n        <div style={{ marginTop: 20 }}>\r\n          <h4>Video preview</h4>\r\n          {product.videoUrl ? (() => {\r\n            const embed = getYouTubeEmbedUrl(product.videoUrl);\r\n            if (embed) {\r\n              return <div style={{ width: '100%', height: 250 }}><iframe title=\"video-preview\" src={embed} style={{ width: '100%', height: '100%', border: 'none' }} allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen /></div>;\r\n            }\r\n            return <div>Unsupported video URL (currently only YouTube links are previewed).</div>;\r\n          })() : (<div>No video URL provided</div>)}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","// src/admin/ProductForm.js\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\n/*\r\n  ProductForm replacement\r\n  - Controlled form component that returns (values, files) to onSave\r\n  - Does not perform upload by itself (caller handles upload)\r\n  - Accepts `initial` prop and `saving` boolean\r\n*/\r\n\r\nexport default function ProductForm({ initial = {}, onSave, saving = false }) {\r\n  const [title, setTitle] = useState(initial.title || \"\");\r\n  const [description, setDescription] = useState(initial.description || \"\");\r\n  const [price, setPrice] = useState(initial.price ?? \"\");\r\n  const [mrp, setMrp] = useState(initial.mrp ?? \"\");\r\n  const [stock, setStock] = useState(initial.stock ?? \"\");\r\n  const [sku, setSku] = useState(initial.sku || \"\");\r\n  const [brand, setBrand] = useState(initial.brand || \"\");\r\n  const [category, setCategory] = useState(initial.category || \"\");\r\n  const [sizesText, setSizesText] = useState(Array.isArray(initial.sizes) ? initial.sizes.join(\",\") : (initial.sizes || \"\"));\r\n  const [colorsText, setColorsText] = useState(Array.isArray(initial.colors) ? initial.colors.join(\",\") : (initial.colors || \"\"));\r\n  const [files, setFiles] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // update when initial changes\r\n    setTitle(initial.title || \"\");\r\n    setDescription(initial.description || \"\");\r\n    setPrice(initial.price ?? \"\");\r\n    setMrp(initial.mrp ?? \"\");\r\n    setStock(initial.stock ?? \"\");\r\n    setSku(initial.sku || \"\");\r\n    setBrand(initial.brand || \"\");\r\n    setCategory(initial.category || \"\");\r\n    setSizesText(Array.isArray(initial.sizes) ? initial.sizes.join(\",\") : (initial.sizes || \"\"));\r\n    setColorsText(Array.isArray(initial.colors) ? initial.colors.join(\",\") : (initial.colors || \"\"));\r\n    setFiles([]);\r\n  }, [initial]);\r\n\r\n  function handleFiles(e) {\r\n    setFiles(Array.from(e.target.files || []));\r\n  }\r\n\r\n  function gatherValues() {\r\n    const sizes = sizesText && sizesText.trim() ? sizesText.split(\",\").map(s => s.trim()).filter(Boolean) : [];\r\n    const colors = colorsText && colorsText.trim() ? colorsText.split(\",\").map(s => s.trim()).filter(Boolean) : [];\r\n    return {\r\n      title: title.trim(), description: description.trim(),\r\n      price: Number(price || 0), mrp: Number(mrp || 0),\r\n      stock: Number(stock || 0), sku: sku.trim(), brand: brand.trim(), category: category.trim(),\r\n      sizes, colors\r\n    };\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={(e) => {\r\n      e.preventDefault();\r\n      const values = gatherValues();\r\n      if (typeof onSave === \"function\") onSave(values, files);\r\n    }}>\r\n      <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 220px\", gap: 12 }}>\r\n        <div>\r\n          <label style={{ display: \"block\", marginBottom: 6 }}>\r\n            Title\r\n            <input value={title} onChange={(e) => setTitle(e.target.value)} required style={{ width: \"100%\", padding: 8, marginTop: 6 }} />\r\n          </label>\r\n\r\n          <label style={{ display: \"block\", marginBottom: 6 }}>\r\n            Description\r\n            <textarea value={description} onChange={(e) => setDescription(e.target.value)} rows={6} style={{ width: \"100%\", padding: 8, marginTop: 6 }} />\r\n          </label>\r\n\r\n          <div style={{ display: \"flex\", gap: 8 }}>\r\n            <label style={{ flex: 1 }}>\r\n              Price<br />\r\n              <input type=\"number\" value={price} onChange={(e) => setPrice(e.target.value)} style={{ width: \"100%\", padding: 8 }} />\r\n            </label>\r\n\r\n            <label style={{ width: 160 }}>\r\n              MRP<br />\r\n              <input type=\"number\" value={mrp} onChange={(e) => setMrp(e.target.value)} style={{ width: \"100%\", padding: 8 }} />\r\n            </label>\r\n          </div>\r\n\r\n          <div style={{ display: \"flex\", gap: 8, marginTop: 8 }}>\r\n            <label style={{ width: 160 }}>\r\n              Stock<br />\r\n              <input type=\"number\" value={stock} onChange={(e) => setStock(e.target.value)} style={{ width: \"100%\", padding: 8 }} />\r\n            </label>\r\n\r\n            <label style={{ flex: 1 }}>\r\n              SKU<br />\r\n              <input value={sku} onChange={(e) => setSku(e.target.value)} style={{ width: \"100%\", padding: 8 }} />\r\n            </label>\r\n          </div>\r\n\r\n          <div style={{ display: \"flex\", gap: 8, marginTop: 8 }}>\r\n            <label style={{ flex: 1 }}>\r\n              Brand<br />\r\n              <input value={brand} onChange={(e) => setBrand(e.target.value)} style={{ width: \"100%\", padding: 8 }} />\r\n            </label>\r\n\r\n            <label style={{ width: 200 }}>\r\n              Category<br />\r\n              <input value={category} onChange={(e) => setCategory(e.target.value)} style={{ width: \"100%\", padding: 8 }} />\r\n            </label>\r\n          </div>\r\n\r\n          <label style={{ display: \"block\", marginTop: 8 }}>\r\n            Sizes (comma separated)<br />\r\n            <input value={sizesText} onChange={(e) => setSizesText(e.target.value)} placeholder=\"S,M,L\" style={{ width: \"100%\", padding: 8, marginTop: 6 }} />\r\n          </label>\r\n\r\n          <label style={{ display: \"block\", marginTop: 8 }}>\r\n            Colors (comma separated)<br />\r\n            <input value={colorsText} onChange={(e) => setColorsText(e.target.value)} placeholder=\"red,blue\" style={{ width: \"100%\", padding: 8, marginTop: 6 }} />\r\n          </label>\r\n        </div>\r\n\r\n        <div>\r\n          <label style={{ display: \"block\", marginBottom: 8 }}>\r\n            Upload images<br />\r\n            <input type=\"file\" accept=\"image/*\" multiple onChange={handleFiles} />\r\n          </label>\r\n\r\n          {files.length > 0 && (\r\n            <div style={{ marginTop: 8 }}>\r\n              <div>Files to upload:</div>\r\n              <ul>\r\n                {files.map((f, i) => <li key={i}>{f.name} — {Math.round(f.size / 1024)} KB</li>)}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          <div style={{ marginTop: 16 }}>\r\n            <button type=\"submit\" disabled={saving} style={{ padding: \"8px 16px\", marginRight: 8 }}>{saving ? \"Saving…\" : \"Save\"}</button>\r\n            <button type=\"button\" onClick={() => { /* parent handles cancel/navigate */ }} style={{ padding: \"8px 16px\" }}>Cancel</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","// frontend/src/admin/AdminAnnouncements.js\r\nimport React, { useEffect, useState } from 'react';\r\n\r\nconst API_BASE = process.env.REACT_APP_API_URL || '';\r\n\r\nexport default function AdminAnnouncements() {\r\n  const [messages, setMessages] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [newText, setNewText] = useState('');\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function load() {\r\n      try {\r\n        const res = await fetch(`${API_BASE}/admin-api/settings/announcements`);\r\n        if (!res.ok) throw new Error('Failed to fetch');\r\n        const data = await res.json();\r\n        if (!mounted) return;\r\n        setMessages(Array.isArray(data.messages) ? data.messages : []);\r\n      } catch (err) {\r\n        if (mounted) setError('Unable to load announcements');\r\n      } finally {\r\n        if (mounted) setLoading(false);\r\n      }\r\n    }\r\n    load();\r\n    return () => { mounted = false; };\r\n  }, []);\r\n\r\n  function addMessage() {\r\n    const t = (newText || '').trim();\r\n    if (!t) return;\r\n    setMessages(prev => [...prev, t]);\r\n    setNewText('');\r\n  }\r\n\r\n  function removeMessage(idx) {\r\n    setMessages(prev => prev.filter((_, i) => i !== idx));\r\n  }\r\n\r\n  function moveUp(idx) {\r\n    if (idx <= 0) return;\r\n    setMessages(prev => {\r\n      const copy = [...prev];\r\n      const [item] = copy.splice(idx, 1);\r\n      copy.splice(idx - 1, 0, item);\r\n      return copy;\r\n    });\r\n  }\r\n  function moveDown(idx) {\r\n    setMessages(prev => {\r\n      if (idx >= prev.length - 1) return prev;\r\n      const copy = [...prev];\r\n      const [item] = copy.splice(idx, 1);\r\n      copy.splice(idx + 1, 0, item);\r\n      return copy;\r\n    });\r\n  }\r\n\r\n  async function save() {\r\n    setSaving(true);\r\n    setError(null);\r\n    try {\r\n      const res = await fetch(`${API_BASE}/admin-api/settings/announcements`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ messages })\r\n      });\r\n      if (!res.ok) {\r\n        const txt = await res.text();\r\n        throw new Error(txt || 'Save failed');\r\n      }\r\n      alert('Announcements saved');\r\n    } catch (err) {\r\n      console.error(err);\r\n      setError('Save failed');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  }\r\n\r\n  if (loading) return <div>Loading announcements…</div>;\r\n\r\n  return (\r\n    <div style={{ padding: 12 }}>\r\n      <h3>Announcements</h3>\r\n      {error && <div style={{ color: 'red' }}>{error}</div>}\r\n      <div style={{ marginBottom: 8 }}>\r\n        <input value={newText} onChange={e => setNewText(e.target.value)} style={{ width: '70%', padding: 8 }} placeholder=\"New announcement\" />\r\n        <button onClick={addMessage} style={{ marginLeft: 8, padding: '8px 12px' }}>Add</button>\r\n      </div>\r\n\r\n      <div>\r\n        {messages.length === 0 && <div>No announcements</div>}\r\n        <ul style={{ listStyle: 'none', padding: 0 }}>\r\n          {messages.map((m, i) => (\r\n            <li key={i} style={{ display: 'flex', alignItems: 'center', gap: 8, marginBottom: 6 }}>\r\n              <div style={{ flex: 1 }}>{m}</div>\r\n              <div>\r\n                <button onClick={() => moveUp(i)} disabled={i === 0}>↑</button>\r\n                <button onClick={() => moveDown(i)} disabled={i === messages.length - 1} style={{ marginLeft: 6 }}>↓</button>\r\n                <button onClick={() => removeMessage(i)} style={{ marginLeft: 6 }}>Remove</button>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n\r\n      <div style={{ marginTop: 12 }}>\r\n        <button onClick={save} disabled={saving} style={{ padding: '8px 14px' }}>{saving ? 'Saving…' : 'Save announcements'}</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","// src/admin/AdminPage.jsx\r\nimport React from \"react\";\r\nimport { Routes, Route, Link } from \"react-router-dom\";\r\nimport AdminProductList from \"./AdminProductList\";\r\nimport AdminProductEdit from \"./AdminProductEdit\";\r\nimport ProductForm from \"./ProductForm.jsx\"; // adjust path/name if your add/edit form filename differs\r\nimport AdminAnnouncements from \"./AdminAnnouncements\";\r\n\r\nexport default function AdminPage() {\r\n  console.debug(\"[AdminPage] mounted, location:\", window.location.pathname);\r\n\r\n  return (\r\n    <div>\r\n      <header style={{ padding: 20, borderBottom: \"1px solid #eee\" }}>\r\n        <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n          <h1 style={{ margin: 0 }}>Admin</h1>\r\n          <nav>\r\n            <Link to=\"/admin/products\" style={{ marginRight: 12 }}>Products</Link>\r\n            <Link to=\"/admin/announcements\" style={{ marginRight: 12 }}>Announcements</Link>\r\n            <Link to=\"/\">Back to site</Link>\r\n          </nav>\r\n        </div>\r\n      </header>\r\n\r\n      <main style={{ padding: 20 }}>\r\n        <Routes>\r\n          {/* Explicitly mount the debug-ready AdminProductList */}\r\n          <Route path=\"products\" element={<AdminProductList />} />\r\n          <Route path=\"products/new\" element={<ProductForm />} />\r\n          <Route path=\"products/:id\" element={<AdminProductEdit />} />\r\n          <Route path=\"announcements\" element={<AdminAnnouncements />} />\r\n          {/* Fallback — render product list for any other admin path */}\r\n          <Route path=\"*\" element={<AdminProductList />} />\r\n        </Routes>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["BASE","process","REACT_APP_API_BASE","axiosInstance","axios","create","baseURL","withCredentials","timeout","interceptors","request","use","cfg","err","Promise","reject","response","resp","AdminProductList","products","setProducts","useState","loading","setLoading","error","setError","actionMsg","setActionMsg","useNavigate","pickStock","p","_ref","_ref2","_ref3","_ref4","_p$stock","stock","qty","inventory","quantity","available","useEffect","cancelled","async","console","log","token","window","localStorage","getItem","headers","Authorization","concat","base","defaults","e","baseHasApi","test","endpoints","ep","res","get","status","data","list","Array","isArray","length","warn","message","url","fetch","method","credentials","_objectSpread","statusText","ok","txt","text","catch","Error","json","fbErr","fetchProducts","_jsxs","style","padding","children","_jsx","color","String","marginTop","onClick","location","reload","display","justifyContent","alignItems","margin","gap","Link","to","overflowX","width","borderCollapse","minWidth","borderBottom","textAlign","map","idx","_ref5","_p$price","id","_id","slug","thumb","thumbnail","image","images","first","path","src","pickThumbnail","sku","code","alt","title","name","height","objectFit","borderRadius","onError","currentTarget","background","fontSize","fontWeight","category","cat","price","mrp","published","confirm","prev","filter","x","possible","deleted","r","delete","success","setTimeout","handleDelete","open","alert","NAMED_COLORS","white","silver","gray","black","red","maroon","yellow","olive","lime","green","aqua","teal","blue","navy","fuchsia","purple","pink","brown","orange","gold","peach","mustard","coral","hexToRgb","hex","g","b","clean","replace","trim","parseInt","substring","makeSlug","toLowerCase","sanitizeAlnum","arguments","undefined","toUpperCase","generateSku","brand","c","prefix","pb","slice","pc","counter","Math","abs","Date","now","padStart","AdminProductEdit","useParams","navigate","fileInputRef","useRef","colorPickerRef","colorPickerIndex","setColorPickerIndex","saving","setSaving","product","setProduct","videoUrl","colors","sizes","description","isPublished","slugEdited","setSlugEdited","skuEdited","setSkuEdited","existingImages","setExistingImages","keepMap","setKeepMap","selectedFiles","setSelectedFiles","swatches","setSwatches","normalizeToHexIfPossible","col","t","full","lower","handleChange","value","checked","target","arr","split","s","Boolean","seeded","populateFromProduct","join","imgs","it","forEach","normalized","listResp","found","find","load","previewUrl","URL","revokeObjectURL","mapped","Object","entries","v","onSubmit","preventDefault","bodyForProduct","Number","targetId","created","body","payload","post","createMinimalProduct","toString","uploadedUrls","pId","formData","FormData","append","file","candidates","lastErr","put","uploadedArray","uploaded","key","urls","u","files","urls2","f","uploadFilesToProduct","finalImages","includes","push","finalBody","triedUrls","desc","savedResp","msg","updatedProduct","JSON","stringify","marginBottom","type","onChange","newSku","flexWrap","i","isHex","bg","suggestedName","best","bestDist","Infinity","h","dx","dy","dz","dist","_unused","nearestColorName","current","cur","click","openColorPickerAtIndex","border","boxShadow","cursor","maxWidth","wordBreak","_","removeSwatch","ref","val","copy","rows","disabled","toggleKeep","multiple","from","newSelected","createObjectURL","removeSelectedPreview","index","removed","splice","embed","raw","vMatch","match","short","_unused2","getYouTubeEmbedUrl","allow","allowFullScreen","ProductForm","_initial$price","_initial$mrp","_initial$stock","initial","onSave","setTitle","setDescription","setPrice","setMrp","setStock","setSku","setBrand","setCategory","sizesText","setSizesText","colorsText","setColorsText","setFiles","_initial$price2","_initial$mrp2","_initial$stock2","values","gatherValues","gridTemplateColumns","required","flex","placeholder","accept","round","size","marginRight","API_BASE","AdminAnnouncements","messages","setMessages","newText","setNewText","mounted","marginLeft","listStyle","m","item","moveDown","removeMessage","AdminPage","debug","pathname","Routes","Route","element"],"ignoreList":[],"sourceRoot":""}