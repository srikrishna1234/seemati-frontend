{"version":3,"file":"static/js/411.ab99ead1.chunk.js","mappings":"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","sources":["components/OtpCheckout.jsx","components/FreeShippingBar.jsx","pages/Checkout.jsx","utils/cartHelpers.js"],"sourcesContent":["// src/components/OtpCheckout.jsx\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\n\r\n// Use relative API paths (CRA proxy forwards to backend in dev)\r\nconst API = \"\";\r\n\r\n// Small in-file logger: silenced in production\r\nconst isDev = process.env.NODE_ENV === \"development\";\r\nconst log = (...args) => { if (isDev) console.log(...args); };\r\nconst warn = (...args) => { if (isDev) console.warn(...args); };\r\nconst errorLog = (...args) => { if (isDev) console.error(...args); };\r\n\r\nfunction OtpModal({ open, onClose, prefillPhone, onVerified }) {\r\n  const [step, setStep] = useState(1);\r\n  const [phone, setPhone] = useState(prefillPhone || \"\");\r\n  const [code, setCode] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n  const [resendCooldown, setResendCooldown] = useState(0);\r\n  const otpInputRef = useRef(null);\r\n  const cooldownRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    setPhone(prefillPhone || \"\");\r\n    setStep(1);\r\n    setCode(\"\");\r\n    setMessage(\"\");\r\n    setError(null);\r\n    setResendCooldown(0);\r\n    if (cooldownRef.current) {\r\n      clearInterval(cooldownRef.current);\r\n      cooldownRef.current = null;\r\n    }\r\n  }, [open, prefillPhone]);\r\n\r\n  useEffect(() => {\r\n    // autofocus OTP input when step becomes 2\r\n    if (step === 2 && otpInputRef.current) {\r\n      otpInputRef.current.focus();\r\n    }\r\n  }, [step]);\r\n\r\n  useEffect(() => {\r\n    // manage countdown\r\n    if (resendCooldown <= 0) return;\r\n    cooldownRef.current = setInterval(() => {\r\n      setResendCooldown((s) => {\r\n        if (s <= 1) {\r\n          clearInterval(cooldownRef.current);\r\n          cooldownRef.current = null;\r\n          return 0;\r\n        }\r\n        return s - 1;\r\n      });\r\n    }, 1000);\r\n\r\n    return () => {\r\n      if (cooldownRef.current) clearInterval(cooldownRef.current);\r\n    };\r\n  }, [resendCooldown]);\r\n\r\n  async function sendOtp() {\r\n    setError(null);\r\n    setMessage(\"\");\r\n    if (!phone) return setError(\"Please enter phone\");\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(`${API}/api/auth/send-otp`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ phone }),\r\n        credentials: \"include\",\r\n      });\r\n\r\n      // special handling for rate-limit\r\n      if (res.status === 429) {\r\n        let data = null;\r\n        try { data = await res.json(); } catch (e) { warn('send-otp: failed to parse json on 429', e); }\r\n        const msg = (data && data.message) || \"Too many OTP requests â€” please try again later.\";\r\n        // set a 15-minute UI cooldown (matches server window)\r\n        setResendCooldown(15 * 60);\r\n        setError(msg);\r\n        return;\r\n      }\r\n\r\n      if (!res.ok) {\r\n        let data = null;\r\n        try { data = await res.json(); } catch (e) { warn('send-otp: failed to parse json', e); }\r\n        throw new Error((data && data.message) || `Server returned ${res.status}`);\r\n      }\r\n      const data = await res.json();\r\n      if (!data || !data.ok) throw new Error(data?.message || \"Failed to send OTP\");\r\n      setStep(2);\r\n      setMessage(\"OTP sent â€” please check your phone.\");\r\n      // start a 60s resend cooldown (normal)\r\n      setResendCooldown(60);\r\n      log('OTP sent to', phone);\r\n    } catch (e) {\r\n      setError(e.message || String(e));\r\n      errorLog('sendOtp error', e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function resendOtp() {\r\n    if (resendCooldown > 0) return;\r\n    await sendOtp();\r\n  }\r\n\r\n  async function verifyOtp() {\r\n    setError(null);\r\n    setMessage(\"\");\r\n    if (!code) return setError(\"Enter the OTP\");\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(`${API}/api/auth/verify-otp`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ phone, code }),\r\n        credentials: \"include\",\r\n      });\r\n\r\n      // If server sends 429 here (unlikely), handle gracefully\r\n      if (res.status === 429) {\r\n        let data = null;\r\n        try { data = await res.json(); } catch (e) { warn('verify-otp: failed to parse json on 429', e); }\r\n        const msg = (data && data.message) || \"Too many requests â€” please try again later.\";\r\n        setResendCooldown(15 * 60);\r\n        setError(msg);\r\n        return;\r\n      }\r\n\r\n      if (!res.ok) {\r\n        let data = null;\r\n        try { data = await res.json(); } catch (e) { warn('verify-otp: failed to parse json', e); }\r\n        throw new Error((data && data.message) || `Server returned ${res.status}`);\r\n      }\r\n      const data = await res.json();\r\n      if (!data || !data.ok) throw new Error(data?.message || \"OTP verify failed\");\r\n      setMessage(\"Verified â€” continuing checkout...\");\r\n      onVerified && onVerified(data.user);\r\n      onClose && onClose();\r\n      log('OTP verified for', phone);\r\n    } catch (e) {\r\n      setError(e.message || String(e));\r\n      errorLog('verifyOtp error', e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40\">\r\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-md p-6\">\r\n        <h3 className=\"text-lg font-semibold mb-3\">Login / Verify by OTP</h3>\r\n        <div className=\"space-y-3\">\r\n          <div>\r\n            <label className=\"block text-sm text-gray-600\">Phone number</label>\r\n            <input\r\n              value={phone}\r\n              onChange={(e) => setPhone(e.target.value)}\r\n              className=\"w-full border p-2 rounded mt-1\"\r\n              placeholder=\"+919999999999\"\r\n              inputMode=\"tel\"\r\n            />\r\n          </div>\r\n\r\n          {step === 2 && (\r\n            <div>\r\n              <label className=\"block text-sm text-gray-600\">Enter OTP</label>\r\n              <input\r\n                ref={otpInputRef}\r\n                value={code}\r\n                onChange={(e) => setCode(e.target.value)}\r\n                className=\"w-full border p-2 rounded mt-1\"\r\n                placeholder=\"123456\"\r\n                inputMode=\"numeric\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {message && <div className=\"text-sm text-green-600\">{message}</div>}\r\n          {error && <div className=\"text-sm text-red-600\">{error}</div>}\r\n\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"text-sm text-gray-600\">\r\n              {step === 2 && (\r\n                <>\r\n                  Didn't get it?{' '}\r\n                  <button\r\n                    onClick={resendOtp}\r\n                    disabled={resendCooldown > 0 || loading}\r\n                    className={`underline ml-1 ${resendCooldown > 0 ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n                  >\r\n                    {resendCooldown > 0 ? `Resend in ${resendCooldown}s` : 'Resend'}\r\n                  </button>\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex gap-2\">\r\n              <button onClick={onClose} className=\"px-3 py-2 border rounded\">Cancel</button>\r\n              {step === 1 ? (\r\n                <button onClick={sendOtp} disabled={loading} className=\"px-3 py-2 bg-blue-600 text-white rounded\">\r\n                  {loading ? \"Sending...\" : \"Send OTP\"}\r\n                </button>\r\n              ) : (\r\n                <button onClick={verifyOtp} disabled={loading} className=\"px-3 py-2 bg-green-600 text-white rounded\">\r\n                  {loading ? \"Verifying...\" : \"Verify OTP\"}\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function OrderSuccess({ orderId }) {\r\n  const [order, setOrder] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  useEffect(() => {\r\n    if (!orderId) return;\r\n    (async () => {\r\n      try {\r\n        const res = await fetch(`${API}/api/orders/${orderId}`, { credentials: \"include\" });\r\n        if (!res.ok) {\r\n          let d = null;\r\n          try { d = await res.json(); } catch (e) { warn('order fetch parse error', e); }\r\n          throw new Error((d && d.message) || `Server ${res.status}`);\r\n        }\r\n        const d = await res.json();\r\n        setOrder(d.order);\r\n      } catch (e) {\r\n        setError(e.message || String(e));\r\n        errorLog('Order fetch error', e);\r\n      }\r\n    })();\r\n  }, [orderId]);\r\n\r\n  if (error) return <div className=\"p-6 bg-white rounded\">Error: {error}</div>;\r\n  if (!order) return <div className=\"p-6 bg-white rounded\">Loading orderâ€¦</div>;\r\n\r\n  return (\r\n    <div className=\"p-6 bg-white rounded shadow\">\r\n      <h2 className=\"text-2xl font-bold mb-2\">Order placed</h2>\r\n      <div className=\"mb-4\">Order ID: <strong>{order._id}</strong></div>\r\n      <div className=\"mb-2\">Status: <strong>{order.status}</strong></div>\r\n      <div className=\"mb-2\">Total: <strong>â‚¹{order.totals && order.totals.total}</strong></div>\r\n      <h3 className=\"mt-4 font-semibold\">Items</h3>\r\n      <ul className=\"mt-2 space-y-2\">\r\n        {order.items.map((it) => (\r\n          <li key={it._id} className=\"flex justify-between\">\r\n            <div>{it.title} x {it.quantity}</div>\r\n            <div>â‚¹{it.price * it.quantity}</div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* CheckoutWithOtp - returns orderId via onOrderPlaced (parent should handle navigation & clearing cart) */\r\nexport function CheckoutWithOtp({ initialCart = [], onOrderPlaced }) {\r\n  const [cart, setCart] = useState(initialCart);\r\n  const [customer, setCustomer] = useState({ name: \"\", phone: \"\", address: \"\" });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [otpOpen, setOtpOpen] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const res = await fetch(`${API}/api/auth/me`, { credentials: \"include\" });\r\n        if (!res.ok) return;\r\n        const d = await res.json();\r\n        if (d?.ok) setUser(d.user);\r\n      } catch (e) { /* ignore */ }\r\n    })();\r\n  }, []);\r\n\r\n  async function placeOrder() {\r\n    setError(null);\r\n    setLoading(true);\r\n\r\n    if (!cart || cart.length === 0) {\r\n      setError(\"Cart is empty\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (!user) {\r\n      setOtpOpen(true);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const payload = { customer, items: cart, paymentMethod: \"cod\" };\r\n      const res = await fetch(`${API}/api/orders`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(payload),\r\n        credentials: \"include\",\r\n      });\r\n\r\n      if (!res.ok) {\r\n        let d = null;\r\n        try { d = await res.json(); } catch (e) { warn('placeOrder parse error', e); }\r\n        throw new Error((d && d.message) || `Server ${res.status}`);\r\n      }\r\n\r\n      const data = await res.json();\r\n      if (!data || !data.ok) throw new Error(data?.message || \"Order failed\");\r\n\r\n      // inform parent â€” parent should clear cart and navigate\r\n      onOrderPlaced && onOrderPlaced(data.orderId, data.order);\r\n      log('Order placed', data.orderId);\r\n      // DO NOT call window.location.href here â€” parent handles navigation\r\n    } catch (e) {\r\n      setError(e.message || String(e));\r\n      errorLog('placeOrder error', e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  function onOtpVerified(userInfo) {\r\n    setUser(userInfo);\r\n    // resume placing order after verification\r\n    setTimeout(() => { placeOrder(); }, 200);\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"bg-white p-4 rounded shadow\">\r\n        <h2 className=\"text-xl font-semibold\">Checkout</h2>\r\n        <div className=\"mt-3 grid grid-cols-1 gap-3\">\r\n          <input value={customer.name} onChange={(e) => setCustomer({ ...customer, name: e.target.value })} placeholder=\"Full name\" className=\"w-full border p-2 rounded\" />\r\n          <input value={customer.phone} onChange={(e) => setCustomer({ ...customer, phone: e.target.value })} placeholder=\"Phone (+91...)\" className=\"w-full border p-2 rounded\" />\r\n          <textarea value={customer.address} onChange={(e) => setCustomer({ ...customer, address: e.target.value })} placeholder=\"Address\" className=\"w-full border p-2 rounded\" />\r\n        </div>\r\n\r\n        <div className=\"mt-4\">\r\n          <h3 className=\"font-medium\">Order summary</h3>\r\n          <ul className=\"mt-2 space-y-2\">\r\n            {cart.map((it, idx) => (\r\n              <li key={idx} className=\"flex justify-between\">\r\n                <div>{it.title} x {it.quantity}</div>\r\n                <div>â‚¹{it.price * it.quantity}</div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n\r\n        {error && <div className=\"text-red-600 mt-3\">{error}</div>}\r\n\r\n        <div className=\"mt-4 flex gap-2\">\r\n          <button onClick={placeOrder} disabled={loading} className=\"px-4 py-2 bg-indigo-600 text-white rounded\">{loading ? \"Placing...\" : \"Place order\"}</button>\r\n          <button onClick={() => setOtpOpen(true)} className=\"px-4 py-2 border rounded\">Login / Verify</button>\r\n        </div>\r\n      </div>\r\n\r\n      <OtpModal open={otpOpen} onClose={() => setOtpOpen(false)} prefillPhone={customer.phone} onVerified={onOtpVerified} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CheckoutWithOtp;\r\n","// src/components/FreeShippingBar.jsx\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { loadCart, computeTotals, SHIPPING_THRESHOLD } from \"../utils/cartHelpers\";\r\n\r\nconst DISMISS_KEY = \"seemati_free_shipping_dismissed_v1\";\r\n\r\n// SMALL bottom offset => bar sits lower (closer to bottom of viewport).\r\nconst BAR_BOTTOM_OFFSET = 6; // nudged lower\r\n\r\n// Extra buffer added to body padding (px) to ensure no overlap.\r\nconst BUFFER = 28; // slightly larger safety buffer\r\n\r\nfunction formatINR(n) {\r\n  try {\r\n    return `â‚¹${Number(n).toFixed(2)}`;\r\n  } catch {\r\n    return `â‚¹${n}`;\r\n  }\r\n}\r\n\r\n// Minimal confetti using canvas\r\nfunction startConfetti(canvas) {\r\n  if (!canvas) return null;\r\n  const ctx = canvas.getContext(\"2d\");\r\n  const w = (canvas.width = canvas.clientWidth);\r\n  const h = (canvas.height = canvas.clientHeight);\r\n  const particles = [];\r\n  const colors = [\"#ef4444\", \"#f59e0b\", \"#10b981\", \"#0b5cff\", \"#7c3aed\"];\r\n\r\n  for (let i = 0; i < 80; i++) {\r\n    particles.push({\r\n      x: Math.random() * w,\r\n      y: Math.random() * h * 0.2,\r\n      vx: (Math.random() - 0.5) * 6,\r\n      vy: Math.random() * 6 + 2,\r\n      size: Math.random() * 8 + 6,\r\n      color: colors[Math.floor(Math.random() * colors.length)],\r\n      rot: Math.random() * Math.PI * 2,\r\n    });\r\n  }\r\n\r\n  let raf = null;\r\n  let t0 = null;\r\n  const duration = 2000;\r\n\r\n  function draw(ts) {\r\n    if (!t0) t0 = ts;\r\n    const dt = ts - t0;\r\n    ctx.clearRect(0, 0, w, h);\r\n\r\n    particles.forEach((p) => {\r\n      p.x += p.vx;\r\n      p.y += p.vy;\r\n      p.vy += 0.08;\r\n      p.rot += 0.12;\r\n      ctx.save();\r\n      ctx.translate(p.x, p.y);\r\n      ctx.rotate(p.rot);\r\n      ctx.fillStyle = p.color;\r\n      ctx.fillRect(-p.size / 2, -p.size / 2, p.size, p.size * 0.6);\r\n      ctx.restore();\r\n    });\r\n\r\n    if (dt < duration) {\r\n      raf = requestAnimationFrame(draw);\r\n    } else {\r\n      setTimeout(() => {\r\n        try {\r\n          ctx.clearRect(0, 0, w, h);\r\n        } catch {}\r\n      }, 200);\r\n    }\r\n  }\r\n\r\n  raf = requestAnimationFrame(draw);\r\n\r\n  return () => {\r\n    if (raf) cancelAnimationFrame(raf);\r\n    try {\r\n      ctx.clearRect(0, 0, w, h);\r\n    } catch {}\r\n  };\r\n}\r\n\r\nexport default function FreeShippingBar() {\r\n  const [visible, setVisible] = useState(() => {\r\n    try {\r\n      return sessionStorage.getItem(DISMISS_KEY) !== \"1\";\r\n    } catch {\r\n      return true;\r\n    }\r\n  });\r\n\r\n  const [subtotal, setSubtotal] = useState(() => {\r\n    try {\r\n      const raw = loadCart();\r\n      const comp = computeTotals(Array.isArray(raw) ? { items: raw } : raw);\r\n      return comp.subtotal ?? 0;\r\n    } catch {\r\n      return 0;\r\n    }\r\n  });\r\n\r\n  const prevQualRef = useRef(subtotal >= SHIPPING_THRESHOLD);\r\n  const canvasRef = useRef(null);\r\n  const confettiCleanupRef = useRef(null);\r\n  const containerRef = useRef(null);\r\n  const resizeObserverRef = useRef(null);\r\n\r\n  // update subtotal when cart changes\r\n  useEffect(() => {\r\n    function onCartUpdated() {\r\n      try {\r\n        const raw = loadCart();\r\n        const comp = computeTotals(Array.isArray(raw) ? { items: raw } : raw);\r\n        setSubtotal(comp.subtotal ?? 0);\r\n      } catch (e) {\r\n        console.error(\"FreeShippingBar compute error:\", e);\r\n      }\r\n    }\r\n    window.addEventListener(\"cart-updated\", onCartUpdated);\r\n    window.addEventListener(\"storage\", onCartUpdated);\r\n    return () => {\r\n      window.removeEventListener(\"cart-updated\", onCartUpdated);\r\n      window.removeEventListener(\"storage\", onCartUpdated);\r\n    };\r\n  }, []);\r\n\r\n  // confetti on threshold crossing\r\n  useEffect(() => {\r\n    const prevQual = prevQualRef.current;\r\n    const nowQual = subtotal >= SHIPPING_THRESHOLD;\r\n    if (!prevQual && nowQual) {\r\n      try {\r\n        if (canvasRef.current) {\r\n          if (confettiCleanupRef.current) confettiCleanupRef.current();\r\n          confettiCleanupRef.current = startConfetti(canvasRef.current);\r\n          setTimeout(() => {\r\n            if (confettiCleanupRef.current) confettiCleanupRef.current();\r\n            confettiCleanupRef.current = null;\r\n          }, 2600);\r\n        }\r\n      } catch (e) {\r\n        console.error(\"confetti failed\", e);\r\n      }\r\n    }\r\n    prevQualRef.current = nowQual;\r\n  }, [subtotal]);\r\n\r\n  // ensure body padding = bar height + BUFFER (so content isn't overlapped)\r\n  useEffect(() => {\r\n    let canceled = false;\r\n\r\n    function applyBodyPadding() {\r\n      try {\r\n        if (!visible) {\r\n          document.body.style.paddingBottom = \"\";\r\n          return;\r\n        }\r\n        const el = containerRef.current;\r\n        if (!el) {\r\n          document.body.style.paddingBottom = \"\";\r\n          return;\r\n        }\r\n        const rect = el.getBoundingClientRect();\r\n        // body padding equals bar height + buffer (do NOT add BAR_BOTTOM_OFFSET here)\r\n        const pb = Math.ceil(rect.height + BUFFER);\r\n        document.body.style.paddingBottom = pb + \"px\";\r\n      } catch (e) {\r\n        console.error(\"applyBodyPadding error\", e);\r\n      }\r\n    }\r\n\r\n    applyBodyPadding();\r\n    window.addEventListener(\"resize\", applyBodyPadding);\r\n    window.addEventListener(\"scroll\", applyBodyPadding);\r\n\r\n    if (typeof ResizeObserver !== \"undefined\" && containerRef.current) {\r\n      resizeObserverRef.current = new ResizeObserver(() => {\r\n        applyBodyPadding();\r\n      });\r\n      try {\r\n        resizeObserverRef.current.observe(containerRef.current);\r\n      } catch (e) {}\r\n    }\r\n\r\n    const timer = setTimeout(() => {\r\n      if (!canceled) applyBodyPadding();\r\n    }, 80);\r\n\r\n    return () => {\r\n      canceled = true;\r\n      clearTimeout(timer);\r\n      window.removeEventListener(\"resize\", applyBodyPadding);\r\n      window.removeEventListener(\"scroll\", applyBodyPadding);\r\n      if (resizeObserverRef.current && containerRef.current) {\r\n        try {\r\n          resizeObserverRef.current.unobserve(containerRef.current);\r\n        } catch {}\r\n        try {\r\n          resizeObserverRef.current.disconnect();\r\n        } catch {}\r\n      }\r\n      try {\r\n        document.body.style.paddingBottom = \"\";\r\n      } catch {}\r\n    };\r\n  }, [visible, subtotal]);\r\n\r\n  // cleanup confetti on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (confettiCleanupRef.current) confettiCleanupRef.current();\r\n      try {\r\n        document.body.style.paddingBottom = \"\";\r\n      } catch {}\r\n    };\r\n  }, []);\r\n\r\n  if (!visible) return null;\r\n\r\n  const remaining = Math.max(0, Number(SHIPPING_THRESHOLD) - Number(subtotal || 0));\r\n  const qualifies = remaining <= 0;\r\n\r\n  // inline styles - centered using translateX(-50%)\r\n  const outerStyle = {\r\n    position: \"fixed\",\r\n    left: \"50%\",\r\n    bottom: BAR_BOTTOM_OFFSET,\r\n    transform: \"translateX(-50%)\",\r\n    zIndex: 9999,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    pointerEvents: \"auto\",\r\n    width: \"100%\",\r\n    paddingLeft: 12,\r\n    paddingRight: 12,\r\n    boxSizing: \"border-box\",\r\n    transition: \"bottom 180ms ease, opacity 180ms ease\",\r\n  };\r\n\r\n  const cardStyle = {\r\n    position: \"relative\",\r\n    width: \"min(960px, calc(100% - 48px))\",\r\n    borderRadius: 12,\r\n    padding: 12,\r\n    display: \"flex\",\r\n    gap: 12,\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    boxShadow: \"0 8px 30px rgba(2,6,23,0.12)\",\r\n    pointerEvents: \"auto\",\r\n    overflow: \"hidden\",\r\n    background: qualifies ? \"#ecfdf5\" : \"#0b74ff\",\r\n    color: qualifies ? \"#065f46\" : \"#fff\",\r\n  };\r\n\r\n  const leftStyle = { display: \"flex\", gap: 12, alignItems: \"center\", flex: 1, minWidth: 0 };\r\n  const headlineStyle = { fontWeight: 800, fontSize: 16, whiteSpace: \"nowrap\", overflow: \"hidden\", textOverflow: \"ellipsis\" };\r\n  const detailStyle = { opacity: 0.95, color: qualifies ? \"#065f46\" : \"#eef6ff\", fontWeight: 600, whiteSpace: \"nowrap\", overflow: \"hidden\", textOverflow: \"ellipsis\" };\r\n  const actionsStyle = { display: \"flex\", gap: 8, alignItems: \"center\", flexShrink: 0 };\r\n\r\n  return (\r\n    <div style={outerStyle} role=\"status\" aria-live=\"polite\">\r\n      <div style={cardStyle} ref={containerRef}>\r\n        <canvas ref={canvasRef} style={{ position: \"absolute\", inset: 0, width: \"100%\", height: \"100%\", pointerEvents: \"none\" }} />\r\n\r\n        <div style={leftStyle}>\r\n          <div style={headlineStyle}>{qualifies ? \"ðŸŽ‰ You have free shipping!\" : \"Add more to get free shipping\"}</div>\r\n\r\n          <div style={detailStyle}>\r\n            {qualifies ? `Subtotal ${formatINR(subtotal)} (Free shipping applied)` : `Add ${formatINR(remaining)} more â€” current subtotal ${formatINR(subtotal)}`}\r\n          </div>\r\n        </div>\r\n\r\n        <div style={actionsStyle}>\r\n          {!qualifies ? (\r\n            <button\r\n              onClick={() => (window.location.href = \"/shop\")}\r\n              style={{\r\n                background: \"#fff\",\r\n                color: \"#0b74ff\",\r\n                fontWeight: 700,\r\n                padding: \"8px 12px\",\r\n                borderRadius: 8,\r\n                border: \"none\",\r\n                cursor: \"pointer\",\r\n                boxShadow: \"0 2px 8px rgba(11,116,255,0.12)\",\r\n              }}\r\n            >\r\n              Shop now\r\n            </button>\r\n          ) : null}\r\n\r\n          <button\r\n            onClick={() => {\r\n              try {\r\n                sessionStorage.setItem(DISMISS_KEY, \"1\");\r\n              } catch {}\r\n              try {\r\n                document.body.style.paddingBottom = \"\";\r\n              } catch {}\r\n              setVisible(false);\r\n            }}\r\n            aria-label=\"Dismiss free shipping message\"\r\n            style={{\r\n              background: \"transparent\",\r\n              border: \"none\",\r\n              color: qualifies ? \"#065f46\" : \"#fff\",\r\n              cursor: \"pointer\",\r\n              fontWeight: 700,\r\n              padding: \"6px 8px\",\r\n            }}\r\n          >\r\n            Dismiss âœ•\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","// src/pages/Checkout.jsx\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport CheckoutWithOtp from \"../components/OtpCheckout\"; // keep your existing path\r\nimport FreeShippingBar from \"../components/FreeShippingBar\";\r\nimport { loadCart, computeTotals, saveCart, SHIPPING_THRESHOLD } from \"../utils/cartHelpers\";\r\n\r\nexport default function Checkout() {\r\n  const navigate = useNavigate();\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [totals, setTotals] = useState({ subtotal: 0, shipping: 0, total: 0 });\r\n\r\n  useEffect(() => {\r\n    const raw = loadCart();\r\n    const items = Array.isArray(raw) ? raw : raw.items ?? [];\r\n    setCartItems(\r\n      items.map((it) => ({\r\n        productId: it.productId || it.id || it._id || it.slug || \"\",\r\n        title: it.title || it.name || \"Item\",\r\n        price: Number(it.price || it.amount || 0) || 0,\r\n        quantity: Number(it.quantity || it.qty || 1) || 1,\r\n        image: it.image || it.img || null,\r\n      }))\r\n    );\r\n\r\n    try {\r\n      const computed = computeTotals(Array.isArray(raw) ? { items: raw } : raw);\r\n      setTotals(computed);\r\n    } catch (e) {\r\n      const subtotal = items.reduce((s, it) => s + (Number(it.price || 0) * Number(it.quantity || it.qty || 1)), 0);\r\n      setTotals({ subtotal, shipping: 0, total: subtotal });\r\n    }\r\n\r\n    function onCartUpdated() {\r\n      const r = loadCart();\r\n      const its = Array.isArray(r) ? r : r.items ?? [];\r\n      setCartItems(\r\n        its.map((it) => ({\r\n          productId: it.productId || it.id || it._id || it.slug || \"\",\r\n          title: it.title || it.name || \"Item\",\r\n          price: Number(it.price || it.amount || 0) || 0,\r\n          quantity: Number(it.quantity || it.qty || 1) || 1,\r\n          image: it.image || it.img || null,\r\n        }))\r\n      );\r\n      try {\r\n        const computed = computeTotals(Array.isArray(r) ? { items: r } : r);\r\n        setTotals(computed);\r\n      } catch (e2) {\r\n        const subtotal = its.reduce((s, it) => s + (Number(it.price || 0) * Number(it.quantity || it.qty || 1)), 0);\r\n        setTotals({ subtotal, shipping: 0, total: subtotal });\r\n      }\r\n    }\r\n\r\n    window.addEventListener(\"cart-updated\", onCartUpdated);\r\n    window.addEventListener(\"storage\", onCartUpdated);\r\n    return () => {\r\n      window.removeEventListener(\"cart-updated\", onCartUpdated);\r\n      window.removeEventListener(\"storage\", onCartUpdated);\r\n    };\r\n  }, []);\r\n\r\n  if (!cartItems || cartItems.length === 0) {\r\n    return (\r\n      <>\r\n        <FreeShippingBar />\r\n        <div style={{ padding: 20 }}>Cart empty</div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  function handleOrderPlaced(orderId, order) {\r\n    try {\r\n      saveCart({ items: [] });\r\n    } catch (e) {\r\n      try {\r\n        localStorage.setItem(\"seemati_cart_v1\", JSON.stringify({ items: [] }));\r\n        window.dispatchEvent(new Event(\"cart-updated\"));\r\n      } catch {}\r\n    }\r\n\r\n    if (orderId) {\r\n      navigate(`/order-success/${orderId}`);\r\n    } else if (order && order._id) {\r\n      navigate(`/order-success/${order._id}`);\r\n    } else {\r\n      navigate(\"/\");\r\n    }\r\n  }\r\n\r\n  // inline styles\r\n  const pageStyle = { padding: 20 };\r\n  const layoutStyle = { display: \"flex\", gap: 24 };\r\n  const asideStyle = { width: 360 };\r\n  const cardStyle = { border: \"1px solid #eee\", borderRadius: 8, padding: 16, background: \"#fff\" };\r\n\r\n  return (\r\n    <>\r\n      <FreeShippingBar />\r\n      <div style={pageStyle}>\r\n        <h1 style={{ marginTop: 0 }}>Checkout</h1>\r\n\r\n        <div style={layoutStyle}>\r\n          <div style={{ flex: 1 }}>\r\n            <CheckoutWithOtp\r\n              initialCart={cartItems.map((it) => ({\r\n                productId: it.productId,\r\n                title: it.title,\r\n                price: it.price,\r\n                quantity: it.quantity,\r\n                image: it.image,\r\n              }))}\r\n              onOrderPlaced={handleOrderPlaced}\r\n              orderSummary={totals}\r\n            />\r\n          </div>\r\n\r\n          <aside style={asideStyle}>\r\n            <div style={cardStyle}>\r\n              <h3 style={{ marginTop: 0 }}>Order summary</h3>\r\n\r\n              <ul style={{ paddingLeft: 16 }}>\r\n                {cartItems.map((it, idx) => (\r\n                  <li key={idx} style={{ marginBottom: 8 }}>\r\n                    {it.title} Ã— {it.quantity} â€” â‚¹{(it.price * it.quantity).toFixed(2)}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n\r\n              <div style={{ display: \"flex\", justifyContent: \"space-between\", marginTop: 12 }}>\r\n                <div style={{ color: \"#374151\" }}>Subtotal</div>\r\n                <div style={{ fontWeight: 800 }}>â‚¹{Number(totals.subtotal).toFixed(2)}</div>\r\n              </div>\r\n\r\n              <div style={{ display: \"flex\", justifyContent: \"space-between\", marginTop: 8 }}>\r\n                <div style={{ color: \"#374151\" }}>Shipping</div>\r\n                <div style={{ fontWeight: 700 }}>\r\n                  {Number(totals.shipping) === 0 ? (\r\n                    <span style={{ color: \"#059669\", fontWeight: 800 }}>FREE</span>\r\n                  ) : (\r\n                    `â‚¹${Number(totals.shipping).toFixed(2)}`\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div style={{ display: \"flex\", justifyContent: \"space-between\", marginTop: 12 }}>\r\n                <div style={{ color: \"#111\", fontWeight: 800 }}>Grand total</div>\r\n                <div style={{ fontWeight: 900, fontSize: 18 }}>â‚¹{Number(totals.total).toFixed(2)}</div>\r\n              </div>\r\n\r\n              <div style={{ marginTop: 10, color: \"#374151\" }}>\r\n                Order for â‚¹{Number(SHIPPING_THRESHOLD).toFixed(0)} and above to get{\" \"}\r\n                <strong style={{ color: \"#059669\" }}>free shipping</strong>.\r\n              </div>\r\n            </div>\r\n          </aside>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","// src/utils/cartHelpers.js\r\n// Centralized cart helpers â€” normalize ids, persist as { items: [...] }, and emit `cart-updated`.\r\n\r\nexport const CART_KEY = \"seemati_cart_v1\";\r\nexport const SHIPPING_THRESHOLD = 999;\r\nconst DEFAULT_SHIPPING = 60;\r\n\r\nfunction safeParse(raw) {\r\n  try {\r\n    return JSON.parse(raw);\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\n// Always return shape: { items: [ ... ] }\r\nexport function loadCart() {\r\n  try {\r\n    const raw = localStorage.getItem(CART_KEY);\r\n    if (!raw) return { items: [] };\r\n    const parsed = safeParse(raw);\r\n    if (!parsed) return { items: [] };\r\n    // Accept either array or object form\r\n    if (Array.isArray(parsed)) return { items: parsed };\r\n    if (parsed.items && Array.isArray(parsed.items)) return parsed;\r\n    // fallback: unknown shape -> attempt to find array value\r\n    for (const k of Object.keys(parsed)) {\r\n      if (Array.isArray(parsed[k])) return { items: parsed[k] };\r\n    }\r\n    return { items: [] };\r\n  } catch (e) {\r\n    console.error(\"[cartHelpers] loadCart error\", e);\r\n    return { items: [] };\r\n  }\r\n}\r\n\r\nexport function saveCart(cartObj) {\r\n  try {\r\n    const normalized = Array.isArray(cartObj) ? { items: cartObj } : (cartObj && cartObj.items ? { items: cartObj.items } : { items: [] });\r\n    localStorage.setItem(CART_KEY, JSON.stringify(normalized.items));\r\n    // Note: we save as array to be tolerant with older code that expects an array in storage.\r\n    // Also emit event to notify UI listeners.\r\n    try { window.dispatchEvent(new Event(\"cart-updated\")); } catch (e) {}\r\n    return normalized;\r\n  } catch (e) {\r\n    console.error(\"[cartHelpers] saveCart error\", e);\r\n    return { items: [] };\r\n  }\r\n}\r\n\r\nfunction normalizeId(item) {\r\n  return item.productId ?? item._id ?? item.id ?? item.slug ?? String(item.title ?? Math.random().toString(36).slice(2,9));\r\n}\r\n\r\nfunction normalizeItemShape(item) {\r\n  const pid = normalizeId(item);\r\n  return {\r\n    productId: pid,\r\n    _id: item._id ?? pid,\r\n    id: item.id ?? pid,\r\n    slug: item.slug ?? undefined,\r\n    title: item.title ?? item.name ?? \"Product\",\r\n    price: Number(item.price ?? item.salePrice ?? item.amount ?? 0),\r\n    image: item.image ?? (item.images && item.images[0] && (item.images[0].url || item.images[0])) ?? null,\r\n    images: item.images ?? (item.image ? [{ url: item.image }] : []),\r\n    quantity: Math.max(1, Number(item.quantity ?? item.qty ?? 1)),\r\n    // keep any extra fields if present\r\n    ...Object.keys(item).reduce((acc, k) => {\r\n      if (![\"productId\",\"_id\",\"id\",\"slug\",\"title\",\"price\",\"image\",\"images\",\"quantity\"].includes(k)) acc[k] = item[k];\r\n      return acc;\r\n    }, {})\r\n  };\r\n}\r\n\r\nexport function computeTotals(cartLike) {\r\n  const obj = Array.isArray(cartLike) ? { items: cartLike } : (cartLike || { items: [] });\r\n  const items = obj.items || [];\r\n  const subtotal = items.reduce((s, it) => s + (Number(it.price || 0) * Number(it.quantity || it.qty || 0)), 0);\r\n  const shipping = subtotal >= SHIPPING_THRESHOLD ? 0 : DEFAULT_SHIPPING;\r\n  const tax = Math.round(subtotal * 0.05); // example tax\r\n  const discount = 0;\r\n  const total = subtotal + shipping + tax - discount;\r\n  return { items, subtotal, shipping, tax, discount, total };\r\n}\r\n\r\n/**\r\n * Add item (or increment existing). Returns the normalized cart { items: [...] }.\r\n * item: object with at least id/title/price. qtyOrDelta: number to add (default 1)\r\n */\r\nexport function addOrIncrementItem(item, qtyOrDelta = 1) {\r\n  try {\r\n    const cart = loadCart();\r\n    const items = Array.isArray(cart.items) ? [...cart.items] : [];\r\n    const incoming = normalizeItemShape(item);\r\n    const productId = incoming.productId;\r\n    const idx = items.findIndex(i => (i.productId ?? i._id ?? i.id ?? i.slug) === productId);\r\n    if (idx > -1) {\r\n      const existing = { ...items[idx] };\r\n      existing.quantity = Math.min(99, (Number(existing.quantity || existing.qty || 0) + Number(qtyOrDelta || 1)));\r\n      items[idx] = existing;\r\n    } else {\r\n      incoming.quantity = Math.max(1, Number(qtyOrDelta || incoming.quantity || 1));\r\n      items.push(incoming);\r\n    }\r\n    const saved = saveCart(items);\r\n    return saved;\r\n  } catch (e) {\r\n    console.error(\"[cartHelpers] addOrIncrementItem error\", e);\r\n    return loadCart();\r\n  }\r\n}\r\n\r\nexport function setItemQuantity(productId, quantity) {\r\n  try {\r\n    const cart = loadCart();\r\n    const items = (cart.items || []).map(i => {\r\n      const id = i.productId ?? i._id ?? i.id ?? i.slug;\r\n      if (id === productId) {\r\n        return { ...i, quantity: Math.max(0, Math.floor(Number(quantity) || 0)) };\r\n      }\r\n      return i;\r\n    }).filter(i => Number(i.quantity || 0) > 0); // remove zero qty\r\n    const saved = saveCart(items);\r\n    return saved;\r\n  } catch (e) {\r\n    console.error(\"[cartHelpers] setItemQuantity error\", e);\r\n    return loadCart();\r\n  }\r\n}\r\n\r\nexport function removeItem(productId) {\r\n  try {\r\n    const cart = loadCart();\r\n    const items = (cart.items || []).filter(i => {\r\n      const id = i.productId ?? i._id ?? i.id ?? i.slug;\r\n      return id !== productId;\r\n    });\r\n    const saved = saveCart(items);\r\n    return saved;\r\n  } catch (e) {\r\n    console.error(\"[cartHelpers] removeItem error\", e);\r\n    return loadCart();\r\n  }\r\n}\r\n\r\nexport function clearCart() {\r\n  try {\r\n    const saved = saveCart([]);\r\n    return saved;\r\n  } catch (e) {\r\n    console.error(\"[cartHelpers] clearCart error\", e);\r\n    return { items: [] };\r\n  }\r\n}\r\n"],"names":["isDev","process","log","warn","errorLog","OtpModal","_ref","open","onClose","prefillPhone","onVerified","step","setStep","useState","phone","setPhone","code","setCode","loading","setLoading","message","setMessage","error","setError","resendCooldown","setResendCooldown","otpInputRef","useRef","cooldownRef","async","sendOtp","res","fetch","concat","method","headers","body","JSON","stringify","credentials","status","data","json","e","msg","ok","Error","String","useEffect","current","clearInterval","focus","setInterval","s","_jsx","className","children","_jsxs","value","onChange","target","placeholder","inputMode","ref","_Fragment","onClick","disabled","user","_ref3","initialCart","onOrderPlaced","cart","setCart","customer","setCustomer","name","address","otpOpen","setOtpOpen","setUser","placeOrder","length","payload","items","paymentMethod","d","orderId","order","_objectSpread","map","it","idx","title","quantity","price","userInfo","setTimeout","DISMISS_KEY","BAR_BOTTOM_OFFSET","BUFFER","formatINR","n","Number","toFixed","_unused","FreeShippingBar","visible","setVisible","sessionStorage","getItem","_unused4","subtotal","setSubtotal","_comp$subtotal","raw","loadCart","computeTotals","Array","isArray","_unused5","prevQualRef","SHIPPING_THRESHOLD","canvasRef","confettiCleanupRef","containerRef","resizeObserverRef","onCartUpdated","_comp$subtotal2","comp","console","window","addEventListener","removeEventListener","prevQual","nowQual","canvas","ctx","getContext","w","width","clientWidth","h","height","clientHeight","particles","colors","i","push","x","Math","random","y","vx","vy","size","color","floor","rot","PI","raf","t0","requestAnimationFrame","draw","ts","dt","clearRect","forEach","p","save","translate","rotate","fillStyle","fillRect","restore","_unused2","cancelAnimationFrame","_unused3","startConfetti","canceled","applyBodyPadding","document","style","paddingBottom","el","rect","getBoundingClientRect","pb","ceil","ResizeObserver","observe","timer","clearTimeout","unobserve","_unused6","disconnect","_unused7","_unused8","_unused9","remaining","max","qualifies","outerStyle","position","left","bottom","transform","zIndex","display","justifyContent","pointerEvents","paddingLeft","paddingRight","boxSizing","transition","cardStyle","borderRadius","padding","gap","alignItems","boxShadow","overflow","background","detailStyle","opacity","fontWeight","whiteSpace","textOverflow","role","inset","flex","minWidth","fontSize","flexShrink","location","href","border","cursor","setItem","_unused0","_unused1","Checkout","navigate","useNavigate","cartItems","setCartItems","totals","setTotals","shipping","total","_raw$items","productId","id","_id","slug","amount","qty","image","img","computed","reduce","_r$items","r","its","e2","marginTop","CheckoutWithOtp","saveCart","localStorage","dispatchEvent","Event","orderSummary","marginBottom","CART_KEY","DEFAULT_SHIPPING","parsed","parse","safeParse","k","Object","keys","cartObj","normalized","normalizeItemShape","item","_item$_id","_item$id","_item$slug","_ref4","_item$title2","_ref5","_ref6","_item$price","_ref7","_item$image","_item$images","_ref8","_item$quantity","pid","_ref2","_item$productId","_item$title","toString","slice","normalizeId","undefined","salePrice","images","url","acc","includes","cartLike","tax","round","discount","addOrIncrementItem","qtyOrDelta","arguments","incoming","findIndex","_ref9","_ref0","_i$productId","existing","min","setItemQuantity","_ref1","_ref10","_i$productId2","filter","removeItem","_ref11","_ref12","_i$productId3","clearCart"],"ignoreList":[],"sourceRoot":""}