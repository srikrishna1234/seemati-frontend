"use strict";(self.webpackChunkseemati_ladies_wear=self.webpackChunkseemati_ladies_wear||[]).push([[269],{2603:(t,e,i)=>{i.d(e,{J$:()=>o,Ku:()=>a});var r=i(5043);i(579);const n=(0,r.createContext)(null),s=(0,r.createContext)(null);function l(t){const e=t.reduce((t,e)=>t+Number(e.price||0)*(e.quantity||1),0),i=e>999?0:60,r=Math.round(.05*e);return{subtotal:e,shipping:i,tax:r,discount:0,total:e+i+r-0}}function o(){const t=(0,r.useContext)(n);return null!==t&&void 0!==t?t:{items:[],totals:l([])}}function a(){const t=(0,r.useContext)(s);return null!==t&&void 0!==t?t:()=>{}}},8269:(t,e,i)=>{i.r(e),i.d(e,{default:()=>d});var r=i(5043),n=i(8163),s=i(2603),l=i(579);const o="wishlist_v1";function a(){try{const t=localStorage.getItem(o)||"[]";return JSON.parse(t)}catch(t){return[]}}function d(){const[t,e]=(0,r.useState)(a()),i=(0,n.Zp)(),d=(0,s.Ku)();function c(i){const r=t.filter(t=>(t._id||t.id||t.productId)!==i);!function(t){try{localStorage.setItem(o,JSON.stringify(t||[])),window.dispatchEvent(new CustomEvent("wishlist-updated",{detail:{count:(t||[]).length}}))}catch(e){console.error("writeWishlist failed",e)}}(r),e(r)}return(0,r.useEffect)(()=>{function t(){e(a())}return window.addEventListener("wishlist-updated",t),()=>window.removeEventListener("wishlist-updated",t)},[]),t&&0!==t.length?(0,l.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Wishlist"}),(0,l.jsx)("div",{style:{display:"grid",gap:12},children:t.map(t=>{const e=t._id||t.id||t.productId;return(0,l.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center",border:"1px solid #eee",padding:12,borderRadius:8},children:[(0,l.jsx)("div",{style:{width:110,height:110,display:"flex",alignItems:"center",justifyContent:"center",background:"#fafafa",borderRadius:6},children:t.image?(0,l.jsx)("img",{src:t.image,alt:t.title,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}}):(0,l.jsx)("div",{style:{color:"#9ca3af"},children:"No image"})}),(0,l.jsxs)("div",{style:{flex:1},children:[(0,l.jsx)("div",{style:{fontWeight:700},children:t.title}),(0,l.jsxs)("div",{style:{marginTop:6},children:[(0,l.jsxs)("span",{style:{fontWeight:700,color:"#166534",marginRight:8},children:["\u20b9",Number(t.price||0).toLocaleString("en-IN")]}),t.mrp?(0,l.jsxs)("span",{style:{textDecoration:"line-through",color:"#6b7280",marginRight:8},children:["\u20b9",Number(t.mrp).toLocaleString("en-IN")]}):null]}),(0,l.jsxs)("div",{style:{marginTop:8,display:"flex",gap:8},children:[(0,l.jsx)("button",{onClick:()=>function(t){try{const e={productId:t._id||t.id||t.productId,title:t.title,price:Number(t.price)||0,mrp:t.mrp||null,quantity:1,image:t.image||null,rawProduct:t.raw||null};d({type:"ADD_ITEM",payload:e}),c(t._id||t.id||t.productId),alert("Moved to cart"),i("/cart")}catch(e){console.error("moveToCart failed",e),alert("Failed to move to cart")}}(t),style:{background:"#f59e0b",color:"#fff",padding:"8px 12px",borderRadius:8,border:"none",cursor:"pointer"},children:"Move to cart"}),(0,l.jsx)("button",{onClick:()=>c(e),style:{padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb",background:"#fff",cursor:"pointer"},children:"Remove"})]})]})]},e)})})]}):(0,l.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Wishlist"}),(0,l.jsx)("div",{className:"text-gray-600",children:"Your wishlist is empty."})]})}}}]);
//# sourceMappingURL=269.f1b117b5.chunk.js.map