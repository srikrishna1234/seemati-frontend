{"version":3,"file":"static/js/360.081fc157.chunk.js","mappings":"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","sources":["home/Testimonials.jsx"],"sourcesContent":["// src/home/Testimonials.jsx\r\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\r\n\r\n/**\r\n * Testimonials.jsx\r\n *\r\n * - Same features as before: autoplay, swipe, keyboard, accessible announcements\r\n * - \"Write a review\" modal saves locally and optionally POSTS to backend\r\n * - If you set REVIEW_API_URL below, component will:\r\n *     - GET reviews from REVIEW_API_URL on mount (expected JSON array)\r\n *     - POST new review to REVIEW_API_URL (backend should accept JSON body and return saved review)\r\n * - If backend calls fail or REVIEW_API_URL is empty, falls back to localStorage (key: 'seemati_reviews')\r\n * - Shows only reviews with rating >= 4; star color = #FFC107\r\n *\r\n * HOW TO ENABLE BACKEND:\r\n *  - Replace REVIEW_API_URL with your endpoint (e.g. 'https://api.example.com/reviews')\r\n *  - If your API requires auth, set AUTH_TOKEN (Bearer token) below and the component will send\r\n *    `Authorization: Bearer ${AUTH_TOKEN}` header.\r\n *\r\n * EXPECTED API CONTRACT (recommended):\r\n *  - GET  REVIEW_API_URL\r\n *      Response: 200 OK with JSON array of review objects:\r\n *      [\r\n *        { id, name, text, rating, photo, location, createdAt }\r\n *      ]\r\n *\r\n *  - POST REVIEW_API_URL\r\n *      Request body: JSON of new review (name, text, rating, photo?, location?, createdAt)\r\n *      Response: 201 Created (or 200) with saved review object (including id)\r\n *\r\n * Notes:\r\n *  - Ensure CORS is configured on your backend to allow your site origin.\r\n *  - The component handles offline / network errors by writing to localStorage.\r\n */\r\n\r\n/* --- Configure backend endpoint & auth here --- */\r\nconst REVIEW_API_URL = \"\"; // e.g. \"https://api.example.com/reviews\" — leave empty to use localStorage only\r\nconst AUTH_TOKEN = \"\"; // e.g. \"eyJhbGciOi...\" if your API needs Bearer token; otherwise keep empty\r\n\r\n/* -----------------------\r\n   Default reviews (used if no localStorage / backend found)\r\n   ----------------------- */\r\nconst DEFAULT_REVIEWS = [\r\n  {\r\n    id: \"r1\",\r\n    name: \"Anita Sharma\",\r\n    text:\r\n      \"Absolutely love my kurti-pant set — comfy for all-day wear and looks great. Received compliments on day one!\",\r\n    rating: 5,\r\n    photo: \"\",\r\n    location: \"Hyderabad\",\r\n    createdAt: Date.now(),\r\n  },\r\n  {\r\n    id: \"r2\",\r\n    name: \"Maya Patel\",\r\n    text:\r\n      \"Good stitch quality and accurate sizing. Delivery was prompt. Will buy again.\",\r\n    rating: 4,\r\n    photo: \"\",\r\n    location: \"Bengaluru\",\r\n    createdAt: Date.now(),\r\n  },\r\n  {\r\n    id: \"r3\",\r\n    name: \"Rekha R.\",\r\n    text:\r\n      \"Love how breathable the fabric is — perfect for summers. The palazzos have a great fall.\",\r\n    rating: 5,\r\n    photo: \"\",\r\n    location: \"Chennai\",\r\n    createdAt: Date.now(),\r\n  },\r\n  {\r\n    id: \"r4\",\r\n    name: \"Priyanka K\",\r\n    text: \"Nice colours, exactly like the pictures. Good value.\",\r\n    rating: 4,\r\n    photo: \"\",\r\n    location: \"Mumbai\",\r\n    createdAt: Date.now(),\r\n  },\r\n];\r\n\r\n/* -----------------------\r\n   StarRating (yellow stars)\r\n   ----------------------- */\r\nfunction StarRating({ value, size = 14 }) {\r\n  const rounded = Math.max(0, Math.min(5, Math.round(value)));\r\n  const stars = [];\r\n  for (let i = 1; i <= 5; i++) {\r\n    stars.push(\r\n      <span\r\n        key={i}\r\n        aria-hidden\r\n        style={{\r\n          fontSize: size,\r\n          lineHeight: 1,\r\n          marginRight: 2,\r\n          color: \"#FFC107\",\r\n          opacity: i <= rounded ? 1 : 0.28,\r\n        }}\r\n      >\r\n        ★\r\n      </span>\r\n    );\r\n  }\r\n  return (\r\n    <div\r\n      className=\"seemati-stars\"\r\n      style={{ display: \"inline-flex\", alignItems: \"center\" }}\r\n      aria-label={`Rating: ${value} out of 5`}\r\n    >\r\n      {stars}\r\n    </div>\r\n  );\r\n}\r\n\r\n/* -----------------------\r\n   Main component\r\n   ----------------------- */\r\nexport default function Testimonials({\r\n  autoplayInterval = 4000,\r\n  className = \"\",\r\n  localStorageKey = \"seemati_reviews\",\r\n}) {\r\n  // load reviews from localStorage (initially) or default\r\n  const [reviews, setReviews] = useState(() => {\r\n    try {\r\n      const raw = typeof window !== \"undefined\" ? window.localStorage.getItem(localStorageKey) : null;\r\n      if (raw) {\r\n        const parsed = JSON.parse(raw);\r\n        if (Array.isArray(parsed) && parsed.length > 0) return parsed;\r\n      }\r\n    } catch (e) {\r\n      // ignore parse\r\n    }\r\n    return DEFAULT_REVIEWS;\r\n  });\r\n\r\n  // UI / carousel / modal state\r\n  const [index, setIndex] = useState(0);\r\n  const [visible, setVisible] = useState(getVisibleCount());\r\n  const [isPlaying, setIsPlaying] = useState(true);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  // refs\r\n  const containerRef = useRef(null);\r\n  const announceRef = useRef(null);\r\n  const autoplayTimer = useRef(null);\r\n  const dragging = useRef(false);\r\n  const touchStartX = useRef(null);\r\n  const touchDeltaX = useRef(0);\r\n\r\n  /* -----------------------\r\n     Backend: fetch on mount if REVIEW_API_URL provided\r\n     ----------------------- */\r\n  useEffect(() => {\r\n    if (!REVIEW_API_URL) return; // backend not configured\r\n    let mounted = true;\r\n    async function fetchReviews() {\r\n      try {\r\n        const headers = { \"Content-Type\": \"application/json\" };\r\n        if (AUTH_TOKEN) headers[\"Authorization\"] = `Bearer ${AUTH_TOKEN}`;\r\n        const res = await fetch(REVIEW_API_URL, { method: \"GET\", headers });\r\n        if (!res.ok) throw new Error(`Status ${res.status}`);\r\n        const data = await res.json();\r\n        if (mounted && Array.isArray(data) && data.length > 0) {\r\n          // merge: backend list will replace local copy (but we still persist it)\r\n          setReviews(data);\r\n          try {\r\n            window.localStorage.setItem(localStorageKey, JSON.stringify(data));\r\n          } catch (e) {}\r\n        }\r\n      } catch (err) {\r\n        // network or CORS issue — keep using localStorage/default reviews\r\n        // console.warn(\"Testimonials: failed to fetch reviews from backend\", err);\r\n      }\r\n    }\r\n    fetchReviews();\r\n    return () => { mounted = false; };\r\n  }, [localStorageKey]);\r\n\r\n  /* -----------------------\r\n     responsive visible count\r\n     ----------------------- */\r\n  useEffect(() => {\r\n    function onResize() {\r\n      setVisible(getVisibleCount());\r\n    }\r\n    window.addEventListener(\"resize\", onResize);\r\n    return () => window.removeEventListener(\"resize\", onResize);\r\n  }, []);\r\n\r\n  /* -----------------------\r\n     Filter displayed reviews: only >=4\r\n     ----------------------- */\r\n  const displayedReviews = useMemo(() => {\r\n    if (!reviews || reviews.length === 0) return [];\r\n    return reviews.filter((r) => Number(r.rating) >= 4);\r\n  }, [reviews]);\r\n\r\n  /* -----------------------\r\n     clamp index when displayedReviews/visible changes\r\n     ----------------------- */\r\n  useEffect(() => {\r\n    if (!displayedReviews || displayedReviews.length === 0) {\r\n      setIndex(0);\r\n      return;\r\n    }\r\n    const maxStart = Math.max(0, displayedReviews.length - visible);\r\n    if (index > maxStart) setIndex(maxStart);\r\n  }, [visible, displayedReviews, index]);\r\n\r\n  /* -----------------------\r\n     Keyboard support\r\n     ----------------------- */\r\n  useEffect(() => {\r\n    const el = containerRef.current;\r\n    if (!el) return;\r\n    function onKey(e) {\r\n      if (e.key === \"ArrowLeft\") {\r\n        e.preventDefault(); prev();\r\n      } else if (e.key === \"ArrowRight\") {\r\n        e.preventDefault(); next();\r\n      } else if (e.key === \" \" || e.key === \"Spacebar\") {\r\n        e.preventDefault(); setIsPlaying((p) => !p);\r\n      } else if (e.key === \"Escape\" && isModalOpen) {\r\n        setIsModalOpen(false);\r\n      }\r\n    }\r\n    el.addEventListener(\"keydown\", onKey);\r\n    return () => el.removeEventListener(\"keydown\", onKey);\r\n  }, [isModalOpen, index, visible, displayedReviews]);\r\n\r\n  /* -----------------------\r\n     Autoplay (operates on displayedReviews)\r\n     ----------------------- */\r\n  useEffect(() => {\r\n    if (autoplayTimer.current) {\r\n      clearInterval(autoplayTimer.current);\r\n      autoplayTimer.current = null;\r\n    }\r\n    if (!isPlaying) return;\r\n    if (!displayedReviews || displayedReviews.length <= visible) return;\r\n\r\n    autoplayTimer.current = setInterval(() => {\r\n      if (dragging.current) return;\r\n      setIndex((prev) => {\r\n        const maxStart = Math.max(0, displayedReviews.length - visible);\r\n        if (prev >= maxStart) return 0;\r\n        return Math.min(maxStart, prev + visible);\r\n      });\r\n    }, autoplayInterval);\r\n\r\n    return () => {\r\n      if (autoplayTimer.current) {\r\n        clearInterval(autoplayTimer.current);\r\n        autoplayTimer.current = null;\r\n      }\r\n    };\r\n  }, [isPlaying, autoplayInterval, displayedReviews, visible]);\r\n\r\n  /* -----------------------\r\n     Touch swipe for mobile\r\n     ----------------------- */\r\n  useEffect(() => {\r\n    const el = containerRef.current;\r\n    if (!el) return;\r\n\r\n    function onTouchStart(e) {\r\n      if (!e.touches || e.touches.length === 0) return;\r\n      touchStartX.current = e.touches[0].clientX;\r\n      touchDeltaX.current = 0;\r\n      dragging.current = true;\r\n      if (autoplayTimer.current) {\r\n        clearInterval(autoplayTimer.current);\r\n        autoplayTimer.current = null;\r\n      }\r\n    }\r\n    function onTouchMove(e) {\r\n      if (!dragging.current || !e.touches || e.touches.length === 0) return;\r\n      touchDeltaX.current = e.touches[0].clientX - touchStartX.current;\r\n    }\r\n    function onTouchEnd() {\r\n      if (!dragging.current) return;\r\n      const dx = touchDeltaX.current;\r\n      dragging.current = false;\r\n      touchStartX.current = null;\r\n      touchDeltaX.current = 0;\r\n      const threshold = 40;\r\n      if (dx > threshold) prev();\r\n      else if (dx < -threshold) next();\r\n    }\r\n\r\n    el.addEventListener(\"touchstart\", onTouchStart, { passive: true });\r\n    el.addEventListener(\"touchmove\", onTouchMove, { passive: true });\r\n    el.addEventListener(\"touchend\", onTouchEnd);\r\n    el.addEventListener(\"touchcancel\", onTouchEnd);\r\n\r\n    return () => {\r\n      el.removeEventListener(\"touchstart\", onTouchStart);\r\n      el.removeEventListener(\"touchmove\", onTouchMove);\r\n      el.removeEventListener(\"touchend\", onTouchEnd);\r\n      el.removeEventListener(\"touchcancel\", onTouchEnd);\r\n    };\r\n  }, [displayedReviews, visible]);\r\n\r\n  /* -----------------------\r\n     Announce helper\r\n     ----------------------- */\r\n  function liveAnnounce(newIndex) {\r\n    if (!announceRef.current) return;\r\n    announceRef.current.textContent = `Showing reviews ${newIndex + 1} to ${Math.min(newIndex + visible, displayedReviews.length)} of ${displayedReviews.length}`;\r\n  }\r\n\r\n  /* -----------------------\r\n     Prev / Next / jump\r\n     ----------------------- */\r\n  function prev() {\r\n    if (!displayedReviews || displayedReviews.length === 0) return;\r\n    const step = Math.max(1, visible);\r\n    const nextIndex = Math.max(0, index - step);\r\n    setIndex(nextIndex);\r\n    liveAnnounce(nextIndex);\r\n  }\r\n  function next() {\r\n    if (!displayedReviews || displayedReviews.length === 0) return;\r\n    const step = Math.max(1, visible);\r\n    const maxStart = Math.max(0, displayedReviews.length - visible);\r\n    const nextIndex = Math.min(maxStart, index + step);\r\n    setIndex(nextIndex);\r\n    liveAnnounce(nextIndex);\r\n  }\r\n  function jumpToPage(pageIndex) {\r\n    const total = displayedReviews.length;\r\n    const newIndex = Math.min(pageIndex * visible, Math.max(0, total - visible));\r\n    setIndex(newIndex);\r\n    liveAnnounce(newIndex);\r\n  }\r\n\r\n  /* -----------------------\r\n     Persist all reviews to localStorage\r\n     ----------------------- */\r\n  useEffect(() => {\r\n    try {\r\n      if (typeof window !== \"undefined\") {\r\n        window.localStorage.setItem(localStorageKey, JSON.stringify(reviews));\r\n      }\r\n    } catch (e) {}\r\n  }, [reviews, localStorageKey]);\r\n\r\n  /* -----------------------\r\n     JSON-LD: compute from displayedReviews (>=4 stars)\r\n     ----------------------- */\r\n  useEffect(() => {\r\n    if (!displayedReviews || displayedReviews.length === 0) {\r\n      // remove existing if present\r\n      const existing = document.getElementById(\"seemati-testimonials-jsonld\");\r\n      if (existing) existing.remove();\r\n      return;\r\n    }\r\n    const ratingSum = displayedReviews.reduce((s, r) => s + (Number(r.rating) || 0), 0);\r\n    const avg = ratingSum / displayedReviews.length;\r\n    const jsonLd = {\r\n      \"@context\": \"https://schema.org\",\r\n      \"@type\": \"Product\",\r\n      \"name\": \"Seemati Kurti Pants & Palazzos\",\r\n      \"aggregateRating\": {\r\n        \"@type\": \"AggregateRating\",\r\n        \"ratingValue\": String(Number(avg.toFixed(2))),\r\n        \"reviewCount\": String(displayedReviews.length),\r\n      },\r\n    };\r\n    const id = \"seemati-testimonials-jsonld\";\r\n    const existing = document.getElementById(id);\r\n    if (existing) existing.remove();\r\n    const script = document.createElement(\"script\");\r\n    script.type = \"application/ld+json\";\r\n    script.id = id;\r\n    script.text = JSON.stringify(jsonLd);\r\n    document.head.appendChild(script);\r\n    return () => {\r\n      const cur = document.getElementById(id);\r\n      if (cur) cur.remove();\r\n    };\r\n  }, [displayedReviews]);\r\n\r\n  /* -----------------------\r\n     visible slice (for rendering)\r\n     ----------------------- */\r\n  const total = displayedReviews.length;\r\n  const visibleSlice = useMemo(() => {\r\n    if (!displayedReviews || displayedReviews.length === 0) return [];\r\n    return displayedReviews.slice(index, index + visible);\r\n  }, [displayedReviews, index, visible]);\r\n\r\n  /* -----------------------\r\n     Modal form\r\n     ----------------------- */\r\n  const emptyForm = { name: \"\", location: \"\", rating: 5, text: \"\", photo: \"\" };\r\n  const [form, setForm] = useState(emptyForm);\r\n  const [formErrors, setFormErrors] = useState({});\r\n\r\n  function openModal() {\r\n    setForm(emptyForm);\r\n    setFormErrors({});\r\n    setIsModalOpen(true);\r\n    if (autoplayTimer.current) {\r\n      clearInterval(autoplayTimer.current);\r\n      autoplayTimer.current = null;\r\n    }\r\n  }\r\n  function closeModal() {\r\n    setIsModalOpen(false);\r\n    setFormErrors({});\r\n  }\r\n  function validateForm() {\r\n    const errs = {};\r\n    if (!form.name || String(form.name).trim().length < 2) errs.name = \"Please enter your name (2+ characters)\";\r\n    if (!form.text || String(form.text).trim().length < 10) errs.text = \"Please write a short review (10+ characters)\";\r\n    if (!form.rating || Number(form.rating) < 1 || Number(form.rating) > 5) errs.rating = \"Please choose a rating\";\r\n    return errs;\r\n  }\r\n\r\n  /* -----------------------\r\n     Submit handler: optimistic UI + backend POST if configured\r\n     ----------------------- */\r\n  async function onSubmit(e) {\r\n    e && e.preventDefault && e.preventDefault();\r\n    setSubmitting(true);\r\n    const errs = validateForm();\r\n    if (Object.keys(errs).length > 0) {\r\n      setFormErrors(errs);\r\n      setSubmitting(false);\r\n      return;\r\n    }\r\n\r\n    const newReviewLocal = {\r\n      id: \"r_\" + Math.random().toString(36).slice(2, 9),\r\n      name: String(form.name).trim(),\r\n      location: String(form.location).trim(),\r\n      text: String(form.text).trim(),\r\n      rating: Number(form.rating),\r\n      photo: form.photo ? String(form.photo).trim() : \"\",\r\n      createdAt: Date.now(),\r\n    };\r\n\r\n    // Optimistically add to local state (so user sees it immediately in local list)\r\n    setReviews((prev) => [newReviewLocal, ...prev]);\r\n\r\n    // If backend configured, attempt POST. If success and backend returns saved item, reconcile.\r\n    if (REVIEW_API_URL) {\r\n      try {\r\n        const headers = { \"Content-Type\": \"application/json\" };\r\n        if (AUTH_TOKEN) headers[\"Authorization\"] = `Bearer ${AUTH_TOKEN}`;\r\n        const res = await fetch(REVIEW_API_URL, {\r\n          method: \"POST\",\r\n          headers,\r\n          body: JSON.stringify(newReviewLocal),\r\n        });\r\n        if (!res.ok) throw new Error(`Status ${res.status}`);\r\n        const saved = await res.json();\r\n        // if backend returns the saved review (with id), replace optimistic item\r\n        setReviews((prev) => {\r\n          // replace first instance with matching createdAt or replace if id differs\r\n          const replaced = prev.map((r) => {\r\n            if (r.id === newReviewLocal.id || r.createdAt === newReviewLocal.createdAt) {\r\n              return saved;\r\n            }\r\n            return r;\r\n          });\r\n          // if saved isn't inserted (odd backend), ensure it's present\r\n          if (!replaced.some((r) => r.id === saved.id)) replaced.unshift(saved);\r\n          return replaced;\r\n        });\r\n      } catch (err) {\r\n        // POST failed — we keep optimistic local review and will persist to localStorage\r\n        // console.warn(\"Testimonials: failed to POST review to backend\", err);\r\n      }\r\n    }\r\n\r\n    // After optimistic add (and backend attempt), persist done via effect.\r\n    setTimeout(() => {\r\n      setSubmitting(false);\r\n      closeModal();\r\n      setIndex(0);\r\n      liveAnnounce(0);\r\n    }, 250);\r\n  }\r\n\r\n  /* -----------------------\r\n     UI: fallback when no displayed reviews (>=4)\r\n     ----------------------- */\r\n  if (!displayedReviews || displayedReviews.length === 0) {\r\n    return (\r\n      <section\r\n        aria-label=\"Customer testimonials\"\r\n        className={`seemati-testimonials ${className}`}\r\n        style={rootStyle}\r\n      >\r\n        <div style={innerStyle}>\r\n          <h2 style={titleStyle}>Customer reviews</h2>\r\n          <p style={{ marginTop: 8 }}>No 4+ star reviews yet — be the first to leave a great review!</p>\r\n          <div style={{ marginTop: 12 }}>\r\n            <button onClick={openModal} style={primaryBtnStyle}>Write a review</button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  /* -----------------------\r\n     Main render\r\n     ----------------------- */\r\n  return (\r\n    <>\r\n      <section\r\n        ref={containerRef}\r\n        tabIndex={0}\r\n        aria-label=\"Customer testimonials\"\r\n        className={`seemati-testimonials ${className}`}\r\n        style={rootStyle}\r\n      >\r\n        <div style={innerStyle}>\r\n          <div style={headerRowStyle}>\r\n            <h2 style={titleStyle}>Customer reviews</h2>\r\n\r\n            <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\r\n              <small style={{ color: \"#666\" }}>\r\n                {displayedReviews.length} reviews (4★+) • avg{\" \"}\r\n                {(\r\n                  displayedReviews.reduce((s, r) => s + (Number(r.rating) || 0), 0) /\r\n                  displayedReviews.length\r\n                ).toFixed(1)}\r\n                /5\r\n              </small>\r\n\r\n              <button\r\n                onClick={() => setIsPlaying((p) => !p)}\r\n                aria-pressed={!isPlaying}\r\n                aria-label={isPlaying ? \"Pause autoplay\" : \"Start autoplay\"}\r\n                style={controlBtnStyle}\r\n              >\r\n                {isPlaying ? \"Pause\" : \"Play\"}\r\n              </button>\r\n\r\n              <button\r\n                onClick={() => openModal()}\r\n                aria-label=\"Write a review\"\r\n                style={primaryBtnStyle}\r\n              >\r\n                Write a review\r\n              </button>\r\n\r\n              <button\r\n                onClick={prev}\r\n                aria-label=\"Previous testimonials\"\r\n                style={smallControlBtnStyle}\r\n              >\r\n                ←\r\n              </button>\r\n              <button\r\n                onClick={next}\r\n                aria-label=\"Next testimonials\"\r\n                style={smallControlBtnStyle}\r\n              >\r\n                →\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            role=\"list\"\r\n            aria-live=\"polite\"\r\n            style={{\r\n              display: \"flex\",\r\n              gap: 12,\r\n              marginTop: 12,\r\n              overflow: \"hidden\",\r\n              alignItems: \"stretch\",\r\n            }}\r\n          >\r\n            {visibleSlice.map((r) => (\r\n              <article\r\n                key={r.id}\r\n                role=\"listitem\"\r\n                className=\"seemati-review-card\"\r\n                style={cardStyle}\r\n              >\r\n                <div style={{ display: \"flex\", gap: 10, alignItems: \"center\" }}>\r\n                  <Avatar name={r.name} photo={r.photo} />\r\n                  <div style={{ minWidth: 0 }}>\r\n                    <div style={{ display: \"flex\", alignItems: \"baseline\", gap: 8 }}>\r\n                      <strong style={{ fontSize: 15 }}>{r.name}</strong>\r\n                      {r.location ? (\r\n                        <span style={{ fontSize: 12, color: \"#666\" }}>· {r.location}</span>\r\n                      ) : null}\r\n                    </div>\r\n                    <div style={{ marginTop: 6 }}>\r\n                      <StarRating value={r.rating} />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <p style={{ marginTop: 12, fontSize: 14, color: \"#222\", lineHeight: 1.4 }}>\r\n                  {r.text}\r\n                </p>\r\n              </article>\r\n            ))}\r\n          </div>\r\n\r\n          <div style={{ marginTop: 12, display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n            <small style={{ color: \"#666\" }}>\r\n              Showing {index + 1}–{Math.min(index + visible, total)} of {total} reviews\r\n            </small>\r\n\r\n            <div aria-hidden style={{ display: \"flex\", gap: 6 }}>\r\n              {Array.from({ length: Math.ceil(total / visible) }).map((_, i) => (\r\n                <button\r\n                  key={i}\r\n                  onClick={() => jumpToPage(i)}\r\n                  aria-label={`Page ${i + 1}`}\r\n                  className={`seemati-dot ${Math.floor(index / visible) === i ? \"active\" : \"\"}`}\r\n                  style={{\r\n                    width: 9,\r\n                    height: 9,\r\n                    borderRadius: 9,\r\n                    border: \"none\",\r\n                    background: Math.floor(index / visible) === i ? \"#111\" : \"#ddd\",\r\n                    cursor: \"pointer\",\r\n                  }}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            ref={announceRef}\r\n            aria-live=\"polite\"\r\n            style={{\r\n              position: \"absolute\",\r\n              left: -9999,\r\n              width: 1,\r\n              height: 1,\r\n              overflow: \"hidden\",\r\n            }}\r\n          />\r\n        </div>\r\n      </section>\r\n\r\n      {/* Modal overlay */}\r\n      {isModalOpen && (\r\n        <div role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"seemati-review-title\" style={modalOverlayStyle}>\r\n          <div style={modalStyle}>\r\n            <h3 id=\"seemati-review-title\" style={{ marginTop: 0 }}>Write a review</h3>\r\n\r\n            <form onSubmit={onSubmit} style={{ display: \"grid\", gap: 10 }}>\r\n              <label style={labelStyle}>\r\n                Your name*\r\n                <input\r\n                  value={form.name}\r\n                  onChange={(e) => setForm((f) => ({ ...f, name: e.target.value }))}\r\n                  style={inputStyle}\r\n                  required\r\n                />\r\n                {formErrors.name && <div style={errorStyle}>{formErrors.name}</div>}\r\n              </label>\r\n\r\n              <label style={labelStyle}>\r\n                Location (optional)\r\n                <input\r\n                  value={form.location}\r\n                  onChange={(e) => setForm((f) => ({ ...f, location: e.target.value }))}\r\n                  style={inputStyle}\r\n                />\r\n              </label>\r\n\r\n              <label style={labelStyle}>\r\n                Rating*\r\n                <select\r\n                  value={form.rating}\r\n                  onChange={(e) => setForm((f) => ({ ...f, rating: e.target.value }))}\r\n                  style={selectStyle}\r\n                >\r\n                  <option value={5}>5 — Excellent</option>\r\n                  <option value={4}>4 — Very good</option>\r\n                  <option value={3}>3 — Good</option>\r\n                  <option value={2}>2 — Fair</option>\r\n                  <option value={1}>1 — Poor</option>\r\n                </select>\r\n                {formErrors.rating && <div style={errorStyle}>{formErrors.rating}</div>}\r\n              </label>\r\n\r\n              <label style={labelStyle}>\r\n                Review*\r\n                <textarea\r\n                  value={form.text}\r\n                  onChange={(e) => setForm((f) => ({ ...f, text: e.target.value }))}\r\n                  style={textareaStyle}\r\n                  rows={4}\r\n                  required\r\n                />\r\n                {formErrors.text && <div style={errorStyle}>{formErrors.text}</div>}\r\n              </label>\r\n\r\n              <label style={labelStyle}>\r\n                Photo URL (optional)\r\n                <input\r\n                  value={form.photo}\r\n                  onChange={(e) => setForm((f) => ({ ...f, photo: e.target.value }))}\r\n                  style={inputStyle}\r\n                  placeholder=\"https://example.com/photo.jpg\"\r\n                />\r\n              </label>\r\n\r\n              <div style={{ display: \"flex\", gap: 8, justifyContent: \"flex-end\", marginTop: 6 }}>\r\n                <button type=\"button\" onClick={closeModal} style={secondaryBtnStyle}>Cancel</button>\r\n                <button type=\"submit\" disabled={submitting} style={primaryBtnStyle}>\r\n                  {submitting ? \"Saving…\" : \"Submit review\"}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\n/* -----------------------\r\n   Avatar + small helpers & styles\r\n   ----------------------- */\r\n\r\nfunction Avatar({ name = \"User\", photo }) {\r\n  const initials = name\r\n    .split(\" \")\r\n    .map((p) => p[0])\r\n    .slice(0, 2)\r\n    .join(\"\")\r\n    .toUpperCase();\r\n\r\n  if (photo) {\r\n    return (\r\n      <img\r\n        src={photo}\r\n        alt={`${name} photo`}\r\n        style={{\r\n          width: 56,\r\n          height: 56,\r\n          borderRadius: 8,\r\n          objectFit: \"cover\",\r\n          flexShrink: 0,\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      aria-hidden\r\n      style={{\r\n        width: 56,\r\n        height: 56,\r\n        borderRadius: 8,\r\n        background: \"#f2f2f2\",\r\n        color: \"#111\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        fontWeight: 600,\r\n        fontSize: 14,\r\n        flexShrink: 0,\r\n      }}\r\n    >\r\n      {initials}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction getVisibleCount() {\r\n  const w = typeof window !== \"undefined\" ? window.innerWidth : 1200;\r\n  if (w < 640) return 1;\r\n  if (w < 980) return 2;\r\n  return 3;\r\n}\r\n\r\n/* -----------------------\r\n   Inline styles\r\n   ----------------------- */\r\nconst rootStyle = {\r\n  padding: \"28px 12px\",\r\n  background: \"#fff\",\r\n  color: \"#111\",\r\n  position: \"relative\",\r\n};\r\n\r\nconst innerStyle = {\r\n  maxWidth: 1100,\r\n  margin: \"0 auto\",\r\n};\r\n\r\nconst headerRowStyle = {\r\n  display: \"flex\",\r\n  justifyContent: \"space-between\",\r\n  alignItems: \"center\",\r\n  gap: 12,\r\n};\r\n\r\nconst titleStyle = {\r\n  fontSize: 20,\r\n  margin: 0,\r\n};\r\n\r\nconst controlBtnStyle = {\r\n  padding: \"8px 12px\",\r\n  borderRadius: 8,\r\n  border: \"1px solid #e6e6e6\",\r\n  background: \"#fff\",\r\n  cursor: \"pointer\",\r\n  fontSize: 14,\r\n};\r\n\r\nconst smallControlBtnStyle = {\r\n  padding: \"8px 10px\",\r\n  borderRadius: 8,\r\n  border: \"1px solid #e6e6e6\",\r\n  background: \"#fff\",\r\n  cursor: \"pointer\",\r\n  fontSize: 14,\r\n};\r\n\r\nconst primaryBtnStyle = {\r\n  padding: \"8px 12px\",\r\n  borderRadius: 8,\r\n  border: \"none\",\r\n  background: \"#0b6eff\",\r\n  color: \"#fff\",\r\n  cursor: \"pointer\",\r\n  fontSize: 14,\r\n};\r\n\r\nconst secondaryBtnStyle = {\r\n  padding: \"8px 12px\",\r\n  borderRadius: 8,\r\n  border: \"1px solid #e6e6e6\",\r\n  background: \"#fff\",\r\n  cursor: \"pointer\",\r\n  fontSize: 14,\r\n};\r\n\r\nconst cardStyle = {\r\n  flex: \"1 1 0\",\r\n  minWidth: 0,\r\n  background: \"#fbfbfb\",\r\n  padding: 14,\r\n  borderRadius: 10,\r\n  boxShadow: \"0 1px 4px rgba(20,20,20,0.04)\",\r\n};\r\n\r\nconst modalOverlayStyle = {\r\n  position: \"fixed\",\r\n  inset: 0,\r\n  background: \"rgba(0,0,0,0.35)\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  zIndex: 1000,\r\n  padding: 12,\r\n};\r\n\r\nconst modalStyle = {\r\n  width: \"100%\",\r\n  maxWidth: 640,\r\n  background: \"#fff\",\r\n  borderRadius: 10,\r\n  padding: 18,\r\n  boxShadow: \"0 6px 30px rgba(10,10,10,0.2)\",\r\n};\r\n\r\nconst labelStyle = {\r\n  display: \"block\",\r\n  fontSize: 13,\r\n  color: \"#111\",\r\n};\r\n\r\nconst inputStyle = {\r\n  display: \"block\",\r\n  width: \"100%\",\r\n  padding: \"8px 10px\",\r\n  marginTop: 6,\r\n  borderRadius: 6,\r\n  border: \"1px solid #e6e6e6\",\r\n  fontSize: 14,\r\n};\r\n\r\nconst selectStyle = {\r\n  display: \"block\",\r\n  width: \"100%\",\r\n  padding: \"8px 10px\",\r\n  marginTop: 6,\r\n  borderRadius: 6,\r\n  border: \"1px solid #e6e6e6\",\r\n  fontSize: 14,\r\n};\r\n\r\nconst textareaStyle = {\r\n  display: \"block\",\r\n  width: \"100%\",\r\n  padding: \"8px 10px\",\r\n  marginTop: 6,\r\n  borderRadius: 6,\r\n  border: \"1px solid #e6e6e6\",\r\n  fontSize: 14,\r\n};\r\n\r\nconst errorStyle = {\r\n  marginTop: 6,\r\n  color: \"#b00020\",\r\n  fontSize: 12,\r\n};\r\n"],"names":["REVIEW_API_URL","AUTH_TOKEN","DEFAULT_REVIEWS","id","name","text","rating","photo","location","createdAt","Date","now","StarRating","_ref","value","size","rounded","Math","max","min","round","stars","i","push","_jsx","style","fontSize","lineHeight","marginRight","color","opacity","children","className","display","alignItems","concat","Testimonials","_ref2","autoplayInterval","localStorageKey","reviews","setReviews","useState","raw","window","localStorage","getItem","parsed","JSON","parse","Array","isArray","length","e","index","setIndex","visible","setVisible","getVisibleCount","isPlaying","setIsPlaying","isModalOpen","setIsModalOpen","submitting","setSubmitting","containerRef","useRef","announceRef","autoplayTimer","dragging","touchStartX","touchDeltaX","useEffect","mounted","async","headers","res","fetch","method","ok","Error","status","data","json","setItem","stringify","err","fetchReviews","onResize","addEventListener","removeEventListener","displayedReviews","useMemo","filter","r","Number","liveAnnounce","newIndex","current","textContent","prev","step","nextIndex","next","maxStart","el","onKey","key","preventDefault","p","clearInterval","setInterval","onTouchStart","passive","onTouchMove","onTouchEnd","touches","clientX","dx","existing","document","getElementById","remove","avg","reduce","s","jsonLd","String","toFixed","script","createElement","type","head","appendChild","cur","total","visibleSlice","slice","emptyForm","form","setForm","formErrors","setFormErrors","openModal","closeModal","_jsxs","_Fragment","ref","tabIndex","rootStyle","innerStyle","headerRowStyle","titleStyle","gap","onClick","controlBtnStyle","primaryBtnStyle","smallControlBtnStyle","role","marginTop","overflow","map","cardStyle","Avatar","minWidth","justifyContent","from","ceil","_","pageIndex","jumpToPage","floor","width","height","borderRadius","border","background","cursor","position","left","modalOverlayStyle","modalStyle","onSubmit","errs","trim","validateForm","Object","keys","newReviewLocal","random","toString","body","saved","replaced","some","unshift","setTimeout","labelStyle","onChange","f","_objectSpread","target","inputStyle","required","errorStyle","selectStyle","textareaStyle","rows","placeholder","secondaryBtnStyle","disabled","_ref3","initials","split","join","toUpperCase","src","alt","objectFit","flexShrink","fontWeight","w","innerWidth","padding","maxWidth","margin","flex","boxShadow","inset","zIndex"],"ignoreList":[],"sourceRoot":""}