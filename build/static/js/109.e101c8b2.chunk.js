"use strict";(self.webpackChunkseemati_ladies_wear=self.webpackChunkseemati_ladies_wear||[]).push([[109],{3360:(t,e,i)=>{i.d(e,{A:()=>a});i(5043);var r=i(8163),n=i(579);function a(t){let{product:e}=t;if(!e)return null;const i=e.title||e.name||e.productName||e.slug||"Untitled product",a=e.price||e.variants&&e.variants[0]&&(e.variants[0].price||e.variants[0].mrp)||e.prices&&e.prices[0]||null,o=function(t){const e=t=>t?"string"===typeof t?t:"object"===typeof t&&(t.url||t.src||t.path||t.filename||t.secure_url||t.location)||null:null;if(!t)return null;let i=e(t.image)||e(t.thumbnail)||e(t.thumb);if(!i&&Array.isArray(t.images)&&t.images.length>0)for(const r of t.images){const t=e(r);if(t){i=t;break}}return!i&&t.media&&(i=e(t.media)||Array.isArray(t.media)&&e(t.media[0])),!i&&t.imageObject&&"object"===typeof t.imageObject&&(i=e(t.imageObject)),"string"===typeof i?i.trim().startsWith("[object")?null:i:null}(e),s=o?o.startsWith("http")||o.startsWith("/")?o:"/".concat(o):"/images/product-placeholder.png",l=e.slug&&"string"===typeof e.slug&&e.slug||e._id||e.id||"";return(0,n.jsx)("article",{style:{borderRadius:10,background:"#fff",padding:12,boxShadow:"0 1px 4px rgba(0,0,0,0.04)",display:"flex",flexDirection:"column",gap:8},children:(0,n.jsxs)(r.N_,{to:l?"/product/".concat(l):"#",style:{textDecoration:"none",color:"inherit"},children:[(0,n.jsx)("div",{style:{width:"100%",paddingTop:"100%",position:"relative",overflow:"hidden",borderRadius:8},children:(0,n.jsx)("img",{src:s,alt:i,onError:t=>{t.target.onerror=null,t.target.src="data:image/svg+xml;charset=UTF-8,<svg xmlns='http://www.w3.org/2000/svg' width='400' height='400'><rect width='100%' height='100%' fill='%23fafafa'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-size='18' fill='%23ccc'>No image</text></svg>"},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})}),(0,n.jsxs)("div",{style:{marginTop:8},children:[(0,n.jsx)("div",{style:{fontSize:14,fontWeight:600},children:i}),(0,n.jsx)("div",{style:{fontSize:13,color:"#666",marginTop:6},children:a?"\u20b9 ".concat(a):"Price not set"})]})]})})}},5026:(t,e,i)=>{i.d(e,{A:()=>n});const r=i(9722).A.create({baseURL:"https://seemati-backend.onrender.com",withCredentials:!0,timeout:6e4});r.interceptors.request.use(t=>t,t=>Promise.reject(t)),r.interceptors.response.use(t=>t,t=>Promise.reject(t));const n=r},7109:(t,e,i)=>{i.r(e),i.d(e,{default:()=>c});var r=i(9379),n=i(5043),a=i(3360),o=i(5026),s=i(579);function l(t){const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ADMIN_TOKEN:"seemati123",REACT_APP_API_BASE:"https://seemati-backend.onrender.com",REACT_APP_API_URL:"https://api.seemati.in/api",REACT_APP_PRODUCTS_PATH:"/products"}.REACT_APP_API_BASE_URL||"https://api.seemati.in/api";if(!t)return null;if("string"===typeof t)return/^https?:\/\//i.test(t)?/https?:\/\/(localhost|127\.0\.0\.1)/i.test(t)?t.replace(/^https?:\/\/[^/]+/i,e):t:t.startsWith("/")?"".concat(e).concat(t):"".concat(e,"/uploads/").concat(t);if(t&&"object"===typeof t){if(t.url){const i=String(t.url);return/^https?:\/\//i.test(i)?/https?:\/\/(localhost|127\.0\.0\.1)/i.test(i)?i.replace(/^https?:\/\/[^/]+/i,e):i:i.startsWith("/")?"".concat(e).concat(i):"".concat(e,"/").concat(i)}if(t.filename)return"".concat(e,"/uploads/").concat(t.filename)}return null}function c(t){let{limit:e=8}=t;const[i,c]=(0,n.useState)([]),[d,u]=(0,n.useState)(!0),[p,m]=(0,n.useState)(null),f=(0,n.useRef)(!1);return(0,n.useEffect)(()=>(f.current=!0,()=>{f.current=!1}),[]),(0,n.useEffect)(()=>{!async function(){u(!0),m(null);try{var t,i,n;const a="title,price,mrp,compareAtPrice,slug,thumbnail,images,description",s=await o.A.get("/api/products?page=1&limit=".concat(encodeURIComponent(e),"&fields=").concat(encodeURIComponent(a))),d=null!==(t=null!==(i=null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.products)&&void 0!==i?i:null===s||void 0===s?void 0:s.data)&&void 0!==t?t:[],u=(Array.isArray(d)?d:[]).map(t=>{var e,i;const n=Array.isArray(t.images)?t.images.map(t=>{if(!t)return null;if("string"===typeof t){const e=l(t);return e?{url:e}:null}return t.url||t.filename?{url:l(t)}:null}).filter(Boolean):[];let a=null;const o=null!==(e=null!==(i=t.thumbnail)&&void 0!==i?i:t.image)&&void 0!==e?e:null;return o&&(a=l(o)),(0,r.A)((0,r.A)({},t),{},{images:n,thumbnail:a})});if(!f.current)return;c(u)}catch(a){if(console.error("Home product load error:",a),!f.current)return;m((null===a||void 0===a?void 0:a.message)||"Failed to load products")}finally{f.current&&u(!1)}}()},[e]),(0,s.jsxs)("div",{style:{padding:20},children:[(0,s.jsx)("h1",{style:{marginBottom:12},children:"Products"}),d&&(0,s.jsx)("div",{children:"Loading featured products\u2026"}),p&&(0,s.jsxs)("div",{style:{color:"crimson"},children:["Failed to load products: ",p]}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:18,alignItems:"start",marginTop:12},children:i.map(t=>(0,s.jsx)(a.A,{product:t},t.slug||t._id||t.id))}),!d&&!i.length&&!p&&(0,s.jsx)("div",{style:{marginTop:12},children:"No featured products."})]})}}}]);
//# sourceMappingURL=109.e101c8b2.chunk.js.map